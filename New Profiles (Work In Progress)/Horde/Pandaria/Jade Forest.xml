<HBProfile xsi:noNamespaceSchemaLocation="../../Schemas/EchoQuestingSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<!-- Original contribution by EchoTiger -->
	<Name>The Jade Forest ($Rev: 6041 $)</Name>

	<DefaultNavType>Fly</DefaultNavType>

	<MinDurability>0.3</MinDurability>
	<MinFreeBagSlots>3</MinFreeBagSlots>

	<SellGrey>true</SellGrey>
	<SellWhite>true</SellWhite>
	<SellGreen>true</SellGreen>
	<SellBlue>true</SellBlue>
	<SellPurple>false</SellPurple>

	<MailGrey>false</MailGrey>
	<MailWhite>true</MailWhite>
	<MailGreen>true</MailGreen>
	<MailBlue>true</MailBlue>
	<MailPurple>true</MailPurple>

	<TargetElites>true</TargetElites>

	<AvoidMobs>
	</AvoidMobs>

	<Mailboxes>
	</Mailboxes>

	<Vendors>
	</Vendors>

	<Blackspots>
		<Blackspot X="2542.399" Y="-546.3351" Z="346.1713" Radius="1" /> <!-- Firework launcher in a bad spot -->
	</Blackspots>

	<Blacklist>
	</Blacklist>

	<QuestOrder IgnoreCheckpoints="false" ContinuallySkipToCheckpoints="true" >
		<If Condition="Me.IsAlliance" >
			<Code File="LoadProfile" ProfileName="..\..\Alliance\1-58 Autoloader.xml" RememberProfile="true" />
		</If>
		<!-- RunCode Methods -->
			<!--<Code File="RunCode">
			<![CDATA[
				Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.MediumPurple, "> [Profile Initialization Status] ", System.Windows.Media.Colors.CornflowerBlue, "\n     Auto-Looting	:: Enabled\n     Looting	:: Enabled\n     Game Addons	:: Disabled");
				Lua.DoString("SetCVar('AutoLootDefault', 1);");
				CharacterSettings.Instance.LootMobs = true;
				CharacterSettings.Instance.Save();
				Lua.DoString("for i=1,GetNumAddOns() do local relo=false if IsAddOnLoaded(i) then relo=true DisableAddOn(i) end if relo then relo=nil ReloadUI() end end");
				await Coroutine.Sleep(1500);
				Logging.Write(System.Windows.Media.Colors.MediumPurple, "> [Ready to bot!]");
			]]>
			</Code> -->
			<Code File="RunCode" Type="Definition">
				<![CDATA[
						bool DoQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (HasQuest(questId) && !IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool NeedsQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (!HasQuest(questId) && !IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool NeedsBreadcrumbQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (IsQuestCompleted(questId)) return false;
							}
							return true;
						}
						bool QuestDone(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (HasQuest(questId) && IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool QuestFlaggedCompleted(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								return Lua.GetReturnVal<bool>($"return IsQuestFlaggedCompleted({questId});", 0);
							}
							return false;
						}
						async Task SkipCutscene(int preWait = 3000, int postWait = 3000)
						{
					// Add detection of cutscene here.
							await Coroutine.Sleep(preWait);
					// Test and improve the working method.
							Lua.DoString("MovieFrame:StopMovie(); CinematicFrame_CancelCinematic(); StopCinematic();");
							await Coroutine.Sleep(postWait);
						}
					]]>
			</Code>
		<!-- END RunCode Methods -->

		<!-- Hooks -->
			<Code File="RunCode" Type="Definition">
				<![CDATA[ 
					IEnumerable<WoWItem> GetExtraConsumables()
					{
						uint foodCount = 0;
						uint drinkCount = 0;
						// Skip conjured and buff comsumables.
				
						var extraConsumables = (from item in Me.BagItems
										   where item != null && item.ItemInfo != null
										   let isFood = Consumable.IsFood(item.ItemInfo)
										   let isDrink = Consumable.IsDrink(item.ItemInfo)
										   where (isFood || isDrink) && item.ItemInfo.SellPrice > 0 && item.Effects.Count == 1 && item.ItemInfo.RequiredLevel < Me.Level - 10                    
										   select item).ToList();
				
				
						var extraPotions = Me.BagItems
							.Where(c => c != null && c.IsValid && c.ItemInfo != null && c.ItemInfo.SellPrice > 0 && c.Effects.Count == 1
								&& (c.ItemInfo.ConsumableClass == WoWItemConsumableClass.Potion
								|| c.ItemInfo.ConsumableClass == WoWItemConsumableClass.Elixir
								|| c.ItemInfo.ConsumableClass == WoWItemConsumableClass.Flask)
								&& c.ItemInfo.RequiredLevel < Me.Level - 20);
				
						extraConsumables.AddRange(extraPotions);
						return extraConsumables;
					}
					 
					async Task SellExtraConsumables()
					{
						Logging.Write("Selling items in GetExtraConsumables()");
						foreach (var item in GetExtraConsumables())
						{
							Logging.Write("Selling {0}.", item.Name);
							item.UseContainerItem();
							await Coroutine.Sleep(1337);
						}
					}
				]]>
			</Code>
			<Code File="Hooks\DoWhen" AllowExecutionWhileNotAlive="false"  AllowUseWhileMounted="true" ActivityName="SellExtraConsumables" UseWhen="MerchantFrame.Instance.IsVisible &amp;&amp; GetExtraConsumables().Any()" >
				<Code File="RunCode" Code="await SellExtraConsumables();"/>
			</Code>
		<!-- END Hooks -->

		<If Condition="!IsQuestCompleted(29611)" >
			<MoveTo X="1600.215" Y="-4379.095" Z="20.69824" />
			<PickUp QuestName="The Art of War" QuestId="29611" GiverName="Warchief&apos;s Command Board" GiverId="206109" X="1598.282" Y="-4371.956" Z="21.13999" />
			<MoveTo X="1612.796" Y="-4372.504" Z="24.63282" />
			<Code File="RunCode" Code="await SkipCutscene(5000);" />
			<TurnIn QuestName="The Art of War" QuestId="29611" TurnInName="General Nazgrim" TurnInId="54870" X="1663.931" Y="-4350.892" Z="26.3429" />
		</If>

		<PickUp QuestName="All Aboard!" QuestId="31853" GiverName="General Nazgrim" GiverId="54870" X="1663.931" Y="-4350.892" Z="26.3429" />
		<TurnIn QuestName="All Aboard!" QuestId="31853" TurnInName="General Nazgrim" TurnInId="55054" X="1856.632" Y="-5461.764" Z="443.4774" />

		<PickUp QuestName="Into the Mists" QuestId="29690" GiverName="General Nazgrim" GiverId="55054" X="1856.632" Y="-5461.764" Z="443.4774" />
		<While Condition="DoQuest(29690)" >
			<Code File="InteractWith" MobId="55054" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="5000" QuestId="29690" X="1856.632" Y="-5461.764" Z="443.4774" />
			<Code File="RunCode" Code="await SkipCutscene();" />
		</While>
		<TurnIn QuestName="Into the Mists" QuestId="29690" TurnInName="General Nazgrim" TurnInId="55135" X="3174.352" Y="-699.8879" Z="321.0255" />

		<PickUp QuestName="Paint it Red!" QuestId="31765" GiverName="General Nazgrim" GiverId="55135" X="3174.352" Y="-699.8879" Z="321.0255" />
		<While Condition="DoQuest(31765)" >
			<Code File="InteractWith" MobId="66677" NonCompeteDistance="5" PreInteractMountStrategy="Dismount" WaitTime="2500" QuestId="31765" X="3138.519" Y="-746.9755" Z="301.5332" TerminateWhen="Me.InVehicle" />
			<!--<DisableBehavior Name="All" />
			<Code File="RunCode">
				<![CDATA[
					WoWUnit _aimAt = null;

					while (DoQuest(31765) && Me.InVehicle)
					{
						if (_aimAt == null || !_aimAt.IsValid || _aimAt.IsDead)
							_aimAt = ObjectManager.GetObjectsOfType<WoWUnit>().FirstOrDefault(x => (!IsObjectiveComplete(1, 31765) && (x.Entry == 66202 || x.Entry == 66291)) || (IsObjectiveComplete(2, 31765) && x.Entry == 66291));

						Me.SetFacing(_aimAt.Location);
						Lua.DoString("CastPetAction(1)");
						await Coroutine.Wait(6500, () => _aimAt == null || !_aimAt.IsValid || _aimAt.IsDead);

						await Coroutine.Yield();
					}
				]]>
			</Code>
			<EnableBehavior Name="All" /> Need some sort of aim articulation method. -->
			<Code File="SpecificQuests\31765-JadeForest-PaintItRed" />
		</While>
		<TurnIn QuestName="Paint it Red!" QuestId="31765" TurnInName="Rivett Clutchpop" TurnInId="66667" X="3138.261" Y="-716.3282" Z="296.833" />

		<PickUp QuestName="Touching Ground" QuestId="31766" GiverName="Rivett Clutchpop" GiverId="66667" X="3138.261" Y="-716.3282" Z="296.833" />
		<While Condition="DoQuest(31766)" >
			<Code File="InteractWith" MobId="215689" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="8000" QuestId="31766" X="3136.031" Y="-744.0906" Z="300.9678" />
		</While>
		<TurnIn QuestName="Touching Ground" QuestId="31766" TurnInName="General Nazgrim" TurnInId="66190" X="3125.17" Y="-749.064" Z="227.6095" />

		<PickUp QuestName="Finish Them!" QuestId="31767" GiverName="General Nazgrim" GiverId="66190" X="3125.17" Y="-749.064" Z="227.6095" />
		<PickUp QuestName="Fire Is Always the Answer" QuestId="31768" GiverName="General Nazgrim" GiverId="66190" X="3125.17" Y="-749.064" Z="227.6095" />

		<Code File="InteractWith" MobId="66308" CollectionDistance="200" InteractByUsingItemId="89605" PreInteractMountStrategy="Dismount" QuestId="31768" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="3376.195" Y="-804.9951" Z="245.996" />
				<Hotspot X="3310.741" Y="-894.7507" Z="245.996" />
				<Hotspot X="3184.339" Y="-861.4564" Z="268.2703" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobIds="66503, 66395, 66505" QuestId="31767" >
			<HuntingGrounds>
				<Hotspot X="3376.195" Y="-804.9951" Z="245.996" />
				<Hotspot X="3310.741" Y="-894.7507" Z="245.996" />
				<Hotspot X="3184.339" Y="-861.4564" Z="268.2703" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Finish Them!" QuestId="31767" TurnInName="General Nazgrim" TurnInId="66646" X="3157.367" Y="-972.637" Z="280.9622" />
		<TurnIn QuestName="Fire Is Always the Answer" QuestId="31768" TurnInName="General Nazgrim" TurnInId="66646" X="3157.367" Y="-972.637" Z="280.9622" />

		<PickUp QuestName="The Final Blow!" QuestId="31769" GiverName="General Nazgrim" GiverId="66646" X="3157.367" Y="-972.637" Z="280.9622" />
		<While Condition="DoQuest(31769)" >
			<Code File="InteractWith" MobId="66554" NonCompeteDistance="0" InteractByUsingItemId="89769" PreInteractMountStrategy="Dismount" QuestId="31769" QuestObjectiveIndex="1" X="3186.884" Y="-922.6794" Z="279.7007" />
			<Code File="InteractWith" MobId="66555" NonCompeteDistance="0" InteractByUsingItemId="89769" PreInteractMountStrategy="Dismount" QuestId="31769" QuestObjectiveIndex="2" X="3193.28" Y="-972.4146" Z="307.363" />
			<Code File="InteractWith" MobId="66556" NonCompeteDistance="0" InteractByUsingItemId="89769" PreInteractMountStrategy="Dismount" QuestId="31769" QuestObjectiveIndex="3" X="3157.058" Y="-990.4577" Z="307.363" />

			<MoveTo X="3159.334" Y="-960.6805" Z="324.6955" />
			<Code File="WaitTimer" WaitTime="5000" /> <!-- If we go too fast here, the quest will bug out -->

			<MoveTo QuestId="31769" X="3158.205" Y="-896.393" Z="324.6961" />
			<Code File="WaitTimer" WaitTime="12000" />
			<Code File="RunCode" Code="await SkipCutscene();" />
			<MoveTo X="3157.899" Y="-917.2182" Z="324.696" />
		</While>
		<TurnIn QuestName="The Final Blow!" QuestId="31769" TurnInName="General Nazgrim" TurnInId="66656" X="3158.375" Y="-903.4006" Z="324.6955" />

		<PickUp QuestName="You&apos;re Either With Us Or..." QuestId="31770" GiverName="General Nazgrim" GiverId="66656" X="3158.002" Y="-900.8345" Z="324.6955" />
		<PickUp QuestName="Regroup!" QuestId="29694" GiverName="General Nazgrim" GiverId="66656" X="3158.002" Y="-900.8345" Z="324.6955" />
		<PickUp QuestName="Face to Face With Consequence" QuestId="31771" GiverName="Taran Zhu" GiverId="66657" X="3158.002" Y="-900.8345" Z="324.6955" />

		<Code File="KillUntilComplete" QuestId="31771" >
			<HuntingGrounds>
				<Hotspot X="3167.068" Y="-939.9962" Z="278.269" />
				<Hotspot X="3171.712" Y="-851.5438" Z="268.262" />
				<Hotspot X="3288.348" Y="-939.7375" Z="257.4444" />
				<Hotspot X="3353.426" Y="-819.1119" Z="245.996" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="66425" PursueWhen="!IsObjectiveComplete(1, 31771)" />
				<PursueUnit Id="66426" PursueWhen="!IsObjectiveComplete(2, 31771)" />
			</PursuitList>
		</Code>

		<PickUp QuestName="Prowler Problems" QuestId="31773" GiverName="Sue-Ji the Tender" GiverId="66659" X="3300.554" Y="-681.9285" Z="221.39" />
		<PickUp QuestName="Priorities!" QuestId="31772" GiverName="Ellie Honeypaw" GiverId="66660" X="3315.168" Y="-680.4221" Z="224.1875" />

		<Code File="InteractWith" MobId="55146" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29694" QuestObjectiveIndex="2" X="3315.725" Y="-679.8571" Z="224.4145" />
		<Code File="InteractWith" MobId="55170" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29694" QuestObjectiveIndex="4" X="3260.501" Y="-599.6595" Z="245.089" />

		<Code File="InteractWith" MobId="215695" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="31772" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="3264.106" Y="-542.3118" Z="236.5504" />
				<Hotspot X="3118.088" Y="-667.3787" Z="230.8987" />
			</HuntingGrounds>
		</Code>

		<Code File="InteractWith" MobId="55162" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29694" QuestObjectiveIndex="3" X="3108.92" Y="-681.5187" Z="230.5745" />
		<Code File="InteractWith" MobId="55141" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29694" QuestObjectiveIndex="1" X="3032.788" Y="-786.6726" Z="227.2948" />

		<Code File="KillUntilComplete" MobId="66668" QuestId="31773" >
			<HuntingGrounds>
				<Hotspot X="3264.106" Y="-542.3118" Z="236.5504" />
				<Hotspot X="3118.088" Y="-667.3787" Z="230.8987" />
				<Hotspot X="3028.664" Y="-711.2181" Z="228.5272" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Priorities!" QuestId="31772" TurnInName="Ellie Honeypaw" TurnInId="66848" X="3021.483" Y="-595.8141" Z="242.4642" />
		<TurnIn QuestName="Regroup!" QuestId="29694" TurnInName="Sergeant Gorrok" TurnInId="66845" X="3015.658" Y="-585.1263" Z="243.0816" />
		<TurnIn QuestName="You&apos;re Either With Us Or..." QuestId="31770" TurnInName="Mayor Honeydew" TurnInId="66220" X="3015.333" Y="-586.7436" Z="243.1631" />
		<TurnIn QuestName="Face to Face With Consequence" QuestId="31771" TurnInName="Taran Zhu" TurnInId="66665" X="3011.896" Y="-584.0689" Z="242.9547" />
		<TurnIn QuestName="Prowler Problems" QuestId="31773" TurnInName="Taran Zhu" TurnInId="66665" X="3011.896" Y="-584.0689" Z="242.9547" />
		<PickUp QuestName="Seeking Zin&apos;jun" QuestId="31774" GiverName="Sergeant Gorrok" GiverId="66845" X="3011.896" Y="-584.0689" Z="242.9547" />

		<If Condition="!IsQuestCompleted(29879)" > <!-- Don't set our hearthstone if we're already done in this quest hub. -->
			<Code File="SetHearthstone" AreaId="6521" MobId="66236" X="3030.609" Y="-543.0916" Z="249.0116" />
		</If>

		<TurnIn QuestName="Seeking Zin&apos;jun" QuestId="31774" TurnInName="Zin&apos;Jun" TurnInId="55403" X="2839.204" Y="-722.4465" Z="258.6832" />
		<PickUp QuestName="Cryin&apos; My Eyes Out" QuestId="29765" GiverName="Zin&apos;Jun" GiverId="55403" X="2839.204" Y="-722.4465" Z="258.6832" />
		<If Condition="NeedsQuest(29743)" >
			<MoveTo X="2837.114" Y="-714.1558" Z="258.5873" />
			<PickUp QuestName="Monstrosity" QuestId="29743" GiverName="Ancient Statue" GiverId="212181" X="2837.114" Y="-714.1558" Z="258.5873" />
		</If>

		<Code File="InteractWith" MobId="212183" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29743" QuestObjectiveIndex="2" X="2658.851" Y="-653.7528" Z="306.3454" />
		<Code File="InteractWith" MobId="212186" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29743" QuestObjectiveIndex="4" X="2606.95" Y="-632.6216" Z="327.708" />
		<Code File="InteractWith" MobId="212184" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29743" QuestObjectiveIndex="3" X="2618.75" Y="-547.216" Z="325.8093" />
		<Code File="InteractWith" MobId="212182" Range="15" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29743" QuestObjectiveIndex="1" X="2755.365" Y="-587.3973" Z="269.2108" />

		<TurnIn QuestName="Monstrosity" QuestId="29743" />

		<Code File="KillUntilComplete" MobId="55470" QuestId="29765" >
			<HuntingGrounds>
				<Hotspot X="2814.095" Y="-606.595" Z="256.1491" />
				<Hotspot X="2654.361" Y="-675.2429" Z="306.9544" />
				<Hotspot X="2643.99" Y="-577.4121" Z="314.0215" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Cryin&apos; My Eyes Out" QuestId="29765" TurnInName="Zin&apos;Jun" TurnInId="55497" X="2591.582" Y="-684.0989" Z="332.8332" />

		<PickUp QuestName="Seein&apos; Red" QuestId="29804" GiverName="Zin&apos;Jun" GiverId="55497" X="2591.582" Y="-684.0989" Z="332.8332" />
		<Code File="KillUntilComplete" MobId="55509" QuestId="29804" X="2635.017" Y="-755.4873" Z="316.1245" />
		<TurnIn QuestName="Seein&apos; Red" QuestId="29804" TurnInName="General Nazgrim" TurnInId="65999" X="2633.815" Y="-757.2855" Z="316.3086" />

		<PickUp QuestName="Assault on the Airstrip" QuestId="31775" GiverName="General Nazgrim" GiverId="65999" X="2633.815" Y="-757.2855" Z="316.3086" />
		<PickUp QuestName="Strongarm Tactics" QuestId="31776" GiverName="General Nazgrim" GiverId="65999" X="2633.815" Y="-757.2855" Z="316.3086" />
		<PickUp QuestName="Unreliable Allies" QuestId="31778" GiverName="Merchant Zin" GiverId="65998" X="2637.978" Y="-746.1181" Z="314.7516" />
		<PickUp QuestName="Choppertunity" QuestId="31777" GiverName="Rivett Clutchpop" GiverId="55521" X="2648.042" Y="-726.1554" Z="309.6833" />

		<Code File="KillUntilComplete" MobIds="65882, 65883" QuestId="31776" QuestObjectiveIndex="1" X="2522.468" Y="-664.3701" Z="356.2169" />
		<Code File="KillUntilComplete" MobId="65880" QuestId="31776" QuestObjectiveIndex="2" X="2567.88" Y="-616.5339" Z="341.0356" />
		<Code File="KillUntilComplete" MobId="65881" QuestId="31776" QuestObjectiveIndex="3" X="2571.619" Y="-493.6263" Z="348.2845" />

		<While Condition="DoQuest(31777)" >
			<Code File="InteractWith" MobId="214962" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="31777" QuestObjectiveIndex="1" X="2565.922" Y="-473.2769" Z="341.4212" TerminateWhen="GetItemCount(89163) &gt;= 2" />
			<Code File="InteractWith" MobId="65843" CollectionDistance="200" NonCompeteDistance="0" InteractByUsingItemId="89163" PreInteractMountStrategy="Dismount" MovementBy="NavigatorOnly" QuestId="31777" QuestObjectiveIndex="1" TerminateWhen="!HasItem(89163)" >
				<HuntingGrounds>
					<Hotspot X="2560.434" Y="-465.668" Z="340.7432" />
					<Hotspot X="2472.589" Y="-493.4358" Z="341.0905" />
				</HuntingGrounds>
			</Code>
		</While>

		<Code File="InteractWith" MobIds="65974, 67090" GossipOptions="1" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="31778" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2560.434" Y="-465.668" Z="340.7432" />
				<Hotspot X="2472.589" Y="-493.4358" Z="341.0905" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobIds="65841, 65905, 66000" QuestId="31775" >
			<HuntingGrounds>
				<Hotspot X="2560.434" Y="-465.668" Z="340.7432" />
				<Hotspot X="2472.589" Y="-493.4358" Z="341.0905" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Choppertunity" QuestId="31777" TurnInName="Rivett Clutchpop" TurnInId="55521" X="2646.891" Y="-725.1696" Z="309.6768" />
		<TurnIn QuestName="Unreliable Allies" QuestId="31778" TurnInName="Merchant Zin" TurnInId="65998" X="2642.261" Y="-741.7971" Z="312.2636" />
		<TurnIn QuestName="Assault on the Airstrip" QuestId="31775" TurnInName="General Nazgrim" TurnInId="65999" X="2632.865" Y="-756.6618" Z="316.3243" />
		<TurnIn QuestName="Strongarm Tactics" QuestId="31776" TurnInName="General Nazgrim" TurnInId="65999" X="2632.865" Y="-756.6618" Z="316.3243" />

		<PickUp QuestName="The Darkness Within" QuestId="31779" GiverName="General Nazgrim" GiverId="65999" X="2632.865" Y="-756.6618" Z="316.3243" />
		<Code File="KillUntilComplete" MobId="66052" QuestId="31779" X="2511.394" Y="-365.7578" Z="342.8384" />
		<TurnIn QuestName="The Darkness Within" QuestId="31779" TurnInName="Flagpole" TurnInId="215844" X="2519.22" Y="-474.1081" Z="341.1235" />

		<PickUp QuestName="Nazgrim&apos;s Command" QuestId="31999" GiverName="Flagpole" GiverId="215844" X="2519.22" Y="-474.1081" Z="341.1235" />
		<TurnIn QuestName="Nazgrim&apos;s Command" QuestId="31999" TurnInName="General Nazgrim" TurnInId="55172" X="2494.776" Y="-530.6031" Z="343.8522" />
		<PickUp QuestName="Forensic Science" QuestId="29815" GiverName="Shademaster Kiryn" GiverId="55180" X="2499.412" Y="-517.827" Z="341.1236" />

		<PickUp QuestName="Missed Me By... That Much!" QuestId="29821" GiverName="Rivett Clutchpop" GiverId="55521" X="2501.549" Y="-514.2826" Z="341.1236" />
		<If Condition="HasQuest(29821) &amp;&amp; (Unit(62930) != null || Unit(55521) != null)" >
			<MoveTo X="2392.467" Y="-224.6485" Z="303.9288" />
			<Code File="UseItem" ItemId="84157" X="2392.467" Y="-224.6485" Z="303.9288" TerminateWhen="Me.HasAura(122848)" />
			<Code File="WaitTimer" WaitTime="6000" TerminateWhen="!Me.HasAura(122848)" />
		</If>
		<TurnIn QuestName="Missed Me By... That Much!" QuestId="29821" TurnInName="Empty Package" TurnInId="62923" X="2225.554" Y="-148.6798" Z="303.8369" />

		<PickUp QuestName="They&apos;re So Thorny!" QuestId="31112" GiverName="Empty Package" GiverId="62923" X="2225.554" Y="-148.6798" Z="303.8369" />
		<If Condition="HasQuest(31112) &amp;&amp; Unit(62923) != null" >
			<Code File="UseItem" ItemId="84157" X="2226.808" Y="-156.2292" Z="303.4259" TerminateWhen="Me.HasAura(122848)" />
			<Code File="WaitTimer" WaitTime="6000" TerminateWhen="!Me.HasAura(122848)" />
		</If>

		<Code File="InteractWith" MobId="55610" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29815" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2406.87" Y="-242.2879" Z="317.4962" />
				<Hotspot X="2429.135" Y="-362.9476" Z="318.9133" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="62930" QuestId="31112" >
			<HuntingGrounds>
				<Hotspot X="2406.87" Y="-242.2879" Z="317.4962" />
				<Hotspot X="2429.135" Y="-362.9476" Z="318.9133" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="They&apos;re So Thorny!" QuestId="31112" TurnInName="Rivett Clutchpop" TurnInId="55521" X="2499.23" Y="-510.2908" Z="341.1235" />
		<TurnIn QuestName="Forensic Science" QuestId="29815" TurnInName="Shademaster Kiryn" TurnInId="55180" X="2497.083" Y="-511.5356" Z="341.319" />

		<PickUp QuestName="Acid Rain" QuestId="29827" GiverName="Shademaster Kiryn" GiverId="55180" X="2496.149" Y="-512.4131" Z="341.5004" />
		<While Condition="DoQuest(29827)" >
			<Code File="InteractWith" MobId="55674" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="10000" QuestId="29827" X="2499.277" Y="-506.519" Z="341.1237" TerminateWhen="Me.InVehicle" />
			<Code File="RunCode">
				<![CDATA[
					WoWUnit _monkeyPoi = null;

					while (DoQuest(29827) && Me.InVehicle)
					{
						_monkeyPoi = ObjectManager.GetObjectsOfType<WoWUnit>().OrderBy(x => x.DistanceSqr).FirstOrDefault(x => x.IsAlive && ((!IsObjectiveComplete(1, 29827) && x.Entry == 55707) || (!IsObjectiveComplete(2, 29827) && x.Entry == 55701)));

						if (_monkeyPoi != null && _monkeyPoi.IsValid)
						{
							if (Lua.GetReturnVal<bool>("return GetPetActionCooldown(2) == 0;", 0))
								Lua.DoString("CastPetAction(2);");

							if (Lua.GetReturnVal<bool>("return GetPetActionCooldown(1) == 0;", 0))
							{
								Lua.DoString("CastPetAction(1);");
								SpellManager.ClickRemoteLocation(_monkeyPoi.Location);
							}
						}

						await Coroutine.Sleep(1000);

						await Coroutine.Yield();
					}
				]]>
			</Code>
			<Code File="WaitTimer" WaitTime="3500" />
		</While>
		<TurnIn QuestName="Acid Rain" QuestId="29827" TurnInName="Shademaster Kiryn" TurnInId="55180" X="2498.301" Y="-518.2753" Z="341.1237" />

		<PickUp QuestName="Lay of the Land" QuestId="29822" GiverName="General Nazgrim" GiverId="55172" X="2493.789" Y="-531.6058" Z="344.0422" />
		<While Condition="DoQuest(29822)" >
			<If Condition="!IsObjectiveComplete(1, 29822)" >
				<MoveTo X="2362.381" Y="-776.2366" Z="414.4319" />
			</If>
			<Code File="KillUntilComplete" MobId="55622" QuestId="29822" QuestObjectiveIndex="3" X="2254.658" Y="-517.8931" Z="368.9218" />
			<If Condition="!IsObjectiveComplete(2, 29822)" >
				<MoveTo X="2147.218" Y="-375.1266" Z="392.1503" />
			</If>
		</While>
		<TurnIn QuestName="Lay of the Land" QuestId="29822" TurnInName="Lorewalker Cho" TurnInId="55768" X="2133.462" Y="-472.6706" Z="392.9339" />

		<PickUp QuestName="Stay a While, and Listen" QuestId="31121" GiverName="Lorewalker Cho" GiverId="55768" X="2133.462" Y="-472.6706" Z="392.9339" />
		<Code File="InteractWith" MobId="212900" NonCompeteDistance="0" WaitTime="80000" QuestId="31121" QuestObjectiveIndex="1" X="2136.826" Y="-478.0092" Z="392.8294" />
		<TurnIn QuestName="Stay a While, and Listen" QuestId="31121" TurnInName="Lorewalker Cho" TurnInId="55768" X="2134.934" Y="-472.4211" Z="392.945" />

		<PickUp QuestName="A Mile in My Shoes" QuestId="31132" GiverName="Lorewalker Cho" GiverId="55768" X="2134.934" Y="-472.4211" Z="392.945" />
		<TurnIn QuestName="A Mile in My Shoes" QuestId="31132" TurnInName="Lorewalker Cho" TurnInId="63217" X="2064.542" Y="-702.5886" Z="354.5648" />

		<PickUp QuestName="If These Stones Could Speak" QuestId="31134" GiverName="Lorewalker Cho" GiverId="63217" X="2063.696" Y="-702.6017" Z="354.5648" />
		<Code File="InteractWith" MobId="212926" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31134" QuestObjectiveIndex="1" X="2080.808" Y="-705.075" Z="354.5639" />
		<Code File="InteractWith" MobId="212925" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31134" QuestObjectiveIndex="2" X="2077.844" Y="-687.7767" Z="354.5753" />
		<Code File="InteractWith" MobId="212924" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31134" QuestObjectiveIndex="3" X="2064.863" Y="-685.2865" Z="354.5646" />
		<TurnIn QuestName="If These Stones Could Speak" QuestId="31134" TurnInName="Lorewalker Cho" TurnInId="63217" X="2063.608" Y="-703.3061" Z="354.566" />

		<PickUp QuestName="Peering Into the Past" QuestId="31152" GiverName="Lorewalker Cho" GiverId="63217" X="2063.608" Y="-703.3061" Z="354.566" />
		<TurnIn QuestName="Peering Into the Past" QuestId="31152" TurnInName="Lorewalker Cho" TurnInId="63307" X="2135.434" Y="-564.266" Z="391.4554" />

		<PickUp QuestName="Family Tree" QuestId="31167" GiverName="Lorewalker Cho" GiverId="63307" X="2135.434" Y="-564.266" Z="391.4554" />
		<Code File="InteractWith" MobId="212969" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="31167" QuestObjectiveIndex="1" X="2140.85" Y="-560.9001" Z="391.4489" />
		<TurnIn QuestName="Family Tree" QuestId="31167" TurnInName="Lorewalker Cho" TurnInId="63307" X="2137.437" Y="-563.9349" Z="391.4499" />

		<PickUp QuestName="Swallowed Whole" QuestId="29879" GiverName="Lorewalker Cho" GiverId="63307" X="2137.437" Y="-563.9349" Z="391.4499" />
		<Code File="InteractWith" MobId="56180" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29879" QuestObjectiveIndex="2" >
			<HuntingGrounds>
				<Hotspot X="1985.387" Y="-237.9972" Z="388.3993" />
				<Hotspot X="2022.519" Y="-120.6923" Z="387.3232" />
			</HuntingGrounds>
		</Code>
		<Code File="KillUntilComplete" MobId="56183" QuestId="29879" >
			<HuntingGrounds>
				<Hotspot X="1985.387" Y="-237.9972" Z="388.3993" />
				<Hotspot X="2022.519" Y="-120.6923" Z="387.3232" />
			</HuntingGrounds>
		</Code>
		<TurnIn QuestName="Swallowed Whole" QuestId="29879" TurnInName="Tooki Tooki" TurnInId="56313" X="1914.646" Y="-380.2165" Z="392.4735" />

		<PickUp QuestName="Orders are Orders" QuestId="29935" GiverName="Tooki Tooki" GiverId="56313" X="1914.646" Y="-380.2165" Z="392.4735" />
		<PickUp QuestName="The Bees&apos; Knees" QuestId="29933" GiverName="Bo Bo" GiverId="56351" X="1880.697" Y="-356.6031" Z="388.0923" />
		<PickUp QuestName="Kill Kher Shan" QuestId="29924" GiverName="Nibi Nibi" GiverId="56327" X="1852.644" Y="-359.5691" Z="396.2638" />
		<PickUp QuestName="Wicked Wikkets" QuestId="31241" GiverName="Jeek Jeek" GiverId="63748" X="1835.805" Y="-515.7462" Z="363.2284" />

		<Code File="KillUntilComplete" MobId="56329" QuestId="29924" X="1702.996" Y="-876.4474" Z="304.3618" />

		<TurnIn QuestName="Kill Kher Shan" QuestId="29924" />

		<Code File="KillUntilComplete" MobId="63809" X="1738.154" Y="-695.1625" Z="325.4379" TerminateWhen="IsQuestCompleted(31261)" />

		<Code File="KillUntilComplete" MobId="63782" QuestId="31241" >
			<HuntingGrounds>
				<Hotspot X="1700.645" Y="-733.9202" Z="321.1769" />
				<Hotspot X="1794.758" Y="-702.7283" Z="328.4164" />
				<Hotspot X="1756.948" Y="-780.3021" Z="321.0844" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="56283" QuestId="29933" >
			<HuntingGrounds>
				<Hotspot X="1544.563" Y="-775.6697" Z="292.587" />
				<Hotspot X="1564.75" Y="-698.1169" Z="304.9517" />
				<Hotspot X="1611.165" Y="-581.6057" Z="319.5356" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Orders are Orders" QuestId="29935" TurnInName="Chief Kah Kah" TurnInId="56336" X="1459.089" Y="-503.9716" Z="345.3474" />
		<PickUp QuestName="Instant Messaging" QuestId="29936" GiverName="Chief Kah Kah" GiverId="56336" X="1459.089" Y="-503.9716" Z="345.3474" />
		<TurnIn QuestName="The Bees&apos; Knees" QuestId="29933" TurnInName="Chief Kah Kah" TurnInId="56336" X="1459.089" Y="-503.9716" Z="345.3474" />
		<TurnIn QuestName="Captain Jack&apos;s Dead" QuestId="31261" TurnInName="Chief Kah Kah" TurnInId="56336" X="1459.089" Y="-503.9716" Z="345.3474" />
		<TurnIn QuestName="Wicked Wikkets" QuestId="31241" TurnInName="Chief Kah Kah" TurnInId="56336" X="1459.089" Y="-503.9716" Z="345.3474" />

		<If Condition="!IsQuestCompleted(30015)" > <!-- Don't set our hearthstone if we're already done in this quest hub. -->
			<Code File="SetHearthstone" AreaId="5950" MobId="62975" X="1448.17" Y="-502.1152" Z="349.9453" />
		</If>

		<Code File="InteractWith" MobId="56402" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="47000" QuestId="29936" QuestObjectiveIndex="1" X="1473.243" Y="-502.743" Z="344.593" />

		<TurnIn QuestName="Instant Messaging" QuestId="29936" TurnInName="General Nazgrim" TurnInId="56339" X="1430.7" Y="-524.105" Z="353.713" />

		<PickUp QuestName="Beyond the Horizon" QuestId="29941" GiverName="General Nazgrim" GiverId="56339" X="1430.7" Y="-524.105" Z="353.713" />
		<Code File="InteractWith" MobId="56340" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29941" QuestObjectiveIndex="1" X="1463.722" Y="-525.9301" Z="344.9405" />
		<Code File="InteractWith" MobId="56336" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29941" QuestObjectiveIndex="4" X="1459.191" Y="-503.1387" Z="345.3374" />
		<Code File="InteractWith" MobId="56478" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29941" QuestObjectiveIndex="3" X="1374.682" Y="-439.699" Z="361.112" />
		<Code File="InteractWith" MobId="56477" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29941" QuestObjectiveIndex="2" X="1298.133" Y="-468.8523" Z="344.5114" />
		<TurnIn QuestName="Beyond the Horizon" QuestId="29941" TurnInName="General Nazgrim" TurnInId="56339" X="1429.594" Y="-524.9062" Z="353.7786" />

		<PickUp QuestName="Furious Fowl" QuestId="29937" GiverName="Rivett Clutchpop" GiverId="56406" X="1429.622" Y="-525.6782" Z="353.7957" />

		<PickUp QuestName="What&apos;s in a Name Name?" QuestId="31239" GiverName="Chief Kah Kah" GiverId="56336" X="1457.765" Y="-501.2179" Z="345.6726" />
		<Code File="KillUntilComplete" MobId="56289" QuestId="31239" >
			<HuntingGrounds>
				<Hotspot X="1506.802" Y="-560.7565" Z="309.06" />
				<Hotspot X="1472.743" Y="-707.6907" Z="303.5404" />
				<Hotspot X="1443.958" Y="-827.5855" Z="287.8791" />
			</HuntingGrounds>
		</Code>
		<If Condition="QuestDone(31239)" >
			<TurnIn QuestName="What&apos;s in a Name Name?" QuestId="31239" TurnInName="Chief Kah Kah" TurnInId="56336" X="1458.985" Y="-502.4137" Z="345.3889" />
			<Code File="UseItem" ItemId="84105" TerminateWhen="!HasItem(84105)" />
		</If>

		<Code File="KillUntilComplete" MobId="56396" QuestId="29937" >
			<HuntingGrounds>
				<Hotspot X="1359.019" Y="-633.264" Z="336.9196" />
				<Hotspot X="1192.225" Y="-732.5503" Z="318.5004" />
				<Hotspot X="1240.274" Y="-468.4617" Z="321.1295" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Furious Fowl" QuestId="29937" TurnInName="Rivett Clutchpop" TurnInId="56406" X="1430.142" Y="-527.5421" Z="353.7373" />
		<PickUp QuestName="Boom Bait" QuestId="29939" GiverName="Rivett Clutchpop" GiverId="56406" X="1430.142" Y="-527.5421" Z="353.7373" />
		<PickUp QuestName="Silly Wikket, Slickies are for Hozen" QuestId="29942" GiverName="Eekle Eekle" GiverId="56358" X="1288.336" Y="-432.8635" Z="344.2436" />

		<While Condition="DoQuest(29939)" >
			<If Condition="Object(209877) == null" >
				<MoveTo X="1076.619" Y="-415.4352" Z="259.1911" />
				<Code File="UseItem" ItemId="76262" QuestId="29939" QuestObjectiveIndex="1" X="1076.619" Y="-415.4352" Z="259.1911" TerminateWhen="Object(209877) != null" />
			</If>
			<Code File="InteractWith" MobId="209877" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29939" QuestObjectiveIndex="1" X="1060.117" Y="-397.0964" Z="255.1941" TerminateWhen="Object(209877) == null" />
		</While>

		<Code File="KillUntilComplete" MobId="56447" QuestId="29942" >
			<HuntingGrounds>
				<Hotspot X="1013.221" Y="-458.7619" Z="260.4688" />
				<Hotspot X="1062.44" Y="-374.457" Z="257.7263" />
				<Hotspot X="1119.08" Y="-381.5773" Z="257.3485" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Silly Wikket, Slickies are for Hozen" QuestId="29942" TurnInName="Eekle Eekle" TurnInId="56358" X="1287.615" Y="-432.3409" Z="344.1716" />
		<TurnIn QuestName="Boom Bait" QuestId="29939" TurnInName="Rivett Clutchpop" TurnInId="56406" X="1291.938" Y="-449.0273" Z="343.9214" />
		<PickUp QuestName="The Scouts Return" QuestId="29971" GiverName="Rivett Clutchpop" GiverId="56406" X="1291.938" Y="-449.0273" Z="343.9214" />
		<TurnIn QuestName="The Scouts Return" QuestId="29971" TurnInName="Shokia" TurnInId="55647" X="1444.068" Y="-546.5994" Z="353.0826" />

		<PickUp QuestName="Scouting Report: Hostile Natives" QuestId="29730" GiverName="Riko" GiverId="55648" X="1543.41" Y="-1182.91" Z="243.253" />
		<While Condition="DoQuest(29730)" >
			<If Condition="!Me.InVehicle" >
				<Code File="InteractWith" MobId="55648" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29730" X="1442.523" Y="-546.1885" Z="353.2393" TerminateWhen="Me.InVehicle" />
			</If>
			<DisableBehavior Name="All" />
			<Code File="InteractWith" MobId="209615" Range="2" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29730" QuestObjectiveIndex="1" X="1540.574" Y="-1219.053" Z="240.8409" TerminateWhen="!Me.InVehicle" />
			<Code File="InteractWith" MobId="55378" Range="2" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29730" QuestObjectiveIndex="2" X="1510.872" Y="-1263.911" Z="244.297" TerminateWhen="!Me.InVehicle" />
			<Code File="InteractWith" MobId="55381" GossipOptions="1" Range="2" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29730" QuestObjectiveIndex="3" X="1501.816" Y="-1284.843" Z="248.1781" TerminateWhen="!Me.InVehicle" />
			<Code File="EjectVeh" />
			<EnableBehavior Name="All" />
		</While>
		<TurnIn QuestName="Scouting Report: Hostile Natives" QuestId="29730" TurnInName="Riko" TurnInId="55648" X="1442.14" Y="-546.374" Z="353.247" />

		<PickUp QuestName="Scouting Report: On the Right Track" QuestId="29731" GiverName="Shademaster Kiryn" GiverId="55646" X="800.247" Y="-1562.13" Z="62.7906" />
		<While Condition="DoQuest(29731)" >
			<If Condition="!Me.InVehicle" >
				<Code File="InteractWith" MobId="29731" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29731" X="1442.523" Y="-546.1885" Z="353.2393" TerminateWhen="Me.InVehicle" />
			</If>
			<DisableBehavior Name="All" />
			<CustomBehavior File="Hooks\DoWhen" ActivityName="KillTiger" LogExecution="false" AllowUseDuringCombat="true" AllowUseInVehicle="true" UseWhen="Unit(55550, u =&gt; u.IsAlive) != null" >
				<CustomBehavior File="RunCode"><![CDATA[
					var tigerPoi = Unit(55550, u => u.IsAlive);

					while (tigerPoi != null && tigerPoi.IsValid && tigerPoi.IsAlive)
					{
						tigerPoi.Target();
						Lua.DoString("OverrideActionBarButton1:Click();");
						await Coroutine.Sleep(2500);
					}
				]]>
				</CustomBehavior>
			</CustomBehavior>
			<MoveTo QuestId="29731" X="844.8925" Y="-1944.465" Z="62.33847" />
			<Code File="WaitTimer" WaitTime="15000" QuestId="29731" />
			<Code File="Hooks\DoWhen" ActivityName="KillTiger" Command="Remove" />
			<EnableBehavior Name="All" />
		</While>
		<TurnIn QuestName="Scouting Report: On the Right Track" QuestId="29731" TurnInName="Shademaster Kiryn" TurnInId="55646" X="1442.943" Y="-546.8398" Z="353.1537" />

		<PickUp QuestName="Scouting Report: The Friend of My Enemy" QuestId="29823" GiverName="Riko" GiverId="55648" X="433.702" Y="-2030.57" Z="49.8466" />
		<While Condition="DoQuest(29823)" >
			<If Condition="!Me.InVehicle" >
				<Code File="InteractWith" MobId="55648" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29823" X="1442.523" Y="-546.1885" Z="353.2393" TerminateWhen="Me.InVehicle" />
			</If>
			<DisableBehavior Name="All" />
			<Code File="InteractWith" MobId="55688" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29823" QuestObjectiveIndex="1" X="369.827" Y="-2025.932" Z="57.41138" TerminateWhen="Unit(55692) != null || Unit(55693) != null" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29823) && Me.InVehicle)
					{
						WoWUnit jinyuPoi = ObjectManager.GetObjectsOfType<WoWUnit>().FirstOrDefault(x => (x.Entry == 55692 || x.Entry == 55693) && x.IsAlive);

						if (jinyuPoi != null && jinyuPoi.IsValid && jinyuPoi.IsAlive)
						{
							jinyuPoi.Target();
							Me.SetFacing(jinyuPoi.Location);
							Lua.DoString("CastPetAction(2)");
							Lua.DoString("CastPetAction(1)");
						}

						await Coroutine.Sleep(1100);
						await Coroutine.Yield();
					}
				]]>
			</Code>
			<Code File="EjectVeh" />
			<EnableBehavior Name="All" />
		</While>
		<TurnIn QuestName="Scouting Report: The Friend of My Enemy" QuestId="29823" TurnInName="Riko" TurnInId="55648" X="1442.14" Y="-546.374" Z="353.247" />

		<PickUp QuestName="Scouting Report: Like Jinyu in a Barrel" QuestId="29824" GiverName="Shokia" GiverId="55647" X="-161.485" Y="-2925.33" Z="104.872" />
		<While Condition="DoQuest(29824)" >
			<If Condition="!Me.InVehicle" >
				<Code File="InteractWith" MobId="55647" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29824" X="1442.523" Y="-546.1885" Z="353.2393" TerminateWhen="Me.InVehicle" />
			</If>
			<DisableBehavior Name="All" />
			<Code File="InteractWith" MobId="209691" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29824" QuestObjectiveIndex="1" X="-169.8323" Y="-2918.811" Z="104.2908" TerminateWhen="Unit(55791) != null || Unit(55784) != null || Unit(55709) != null || Unit(55710) != null || Unit(55711) != null" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29824) && Me.InVehicle)
					{
						WoWUnit jinyuPoi = ObjectManager.GetObjectsOfType<WoWUnit>().FirstOrDefault(x => (x.Entry == 55791 || x.Entry == 55784 || x.Entry == 55709 || x.Entry == 55710 || x.Entry == 55711) && x.IsAlive);

						if (jinyuPoi != null && jinyuPoi.IsValid && jinyuPoi.IsAlive)
							jinyuPoi.Interact();
						await Coroutine.Yield();
					}
				]]>
			</Code>
			<Code File="EjectVeh" />
			<EnableBehavior Name="All" />
		</While>
		<TurnIn QuestName="Scouting Report: Like Jinyu in a Barrel" QuestId="29824" TurnInName="Shokia" TurnInId="55647" X="1442.14" Y="-546.374" Z="353.247" />

		<PickUp QuestName="Guerrillas in our Midst" QuestId="29943" GiverName="General Nazgrim" GiverId="56339" X="1439.053" Y="-547.1498" Z="352.3213" />
		<PickUp QuestName="Green-ish Energy" QuestId="29968" GiverName="Rivett Clutchpop" GiverId="59025" X="1220.435" Y="-699.2775" Z="324.9307" />

		<Code File="InteractWith" MobId="209903" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29968" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="1226.555" Y="-616.7469" Z="327.8886" />
				<Hotspot X="1255.415" Y="-712.4423" Z="324.1845" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="56303" QuestId="29943" >
			<HuntingGrounds>
				<Hotspot X="1226.555" Y="-616.7469" Z="327.8886" />
				<Hotspot X="1255.415" Y="-712.4423" Z="324.1845" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Guerrillas in our Midst" QuestId="29943" TurnInName="General Nazgrim" TurnInId="56490" X="1245.528" Y="-766.4317" Z="315.4967" />

		<PickUp QuestName="Burning Down the House" QuestId="29966" GiverName="General Nazgrim" GiverId="56490" X="1245.528" Y="-766.4317" Z="315.4967" />
		<While Condition="DoQuest(29966)" >
			<MoveTo X="1131.967" Y="-603.4391" Z="397.1241" />
			<Code File="ForcedDismount" />
			<Code File="UseItem" ItemId="76336" QuestId="29966" QuestObjectiveIndex="1" X="1131.967" Y="-603.4391" Z="397.1241" />
		</While>

		<TurnIn QuestName="Green-ish Energy" QuestId="29968" TurnInName="Rivett Clutchpop" TurnInId="56406" X="1290.878" Y="-448.7367" Z="343.9211" />

		<PickUp QuestName="Boom Goes the Doonamite!" QuestId="29967" GiverName="Rivett Clutchpop" GiverId="56406" X="1290.878" Y="-448.7367" Z="343.9211" />
		<While Condition="DoQuest(29967)" >
			<Code File="InteractWith" MobId="56525" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29967" QuestObjectiveIndex="1" X="1365.064" Y="-569.6888" Z="339.9166" TerminateWhen="Me.InVehicle" />
			<DisableBehavior Name="All" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29967) && Me.InVehicle)
					{
						WoWUnit jinyuPoi = ObjectManager.GetObjectsOfType<WoWUnit>().OrderBy(x => x.DistanceSqr).FirstOrDefault(x => (x.Entry == 56603 || x.Entry == 56624 || x.Entry == 56639) && x.IsAlive && x.DistanceSqr < 80f*80f);

						if (jinyuPoi != null && jinyuPoi.IsValid && jinyuPoi.IsAlive)
						{
							Lua.DoString("CastPetAction(1)");
							SpellManager.ClickRemoteLocation(jinyuPoi.Location);
						}

						await Coroutine.Sleep(1000);
						await Coroutine.Yield();
					}
				]]>
			</Code>
			<Code File="EjectVeh" />
			<EnableBehavior Name="All" />
		</While>
		<TurnIn QuestName="Boom Goes the Doonamite!" QuestId="29967" TurnInName="Rivett Clutchpop" TurnInId="56525" X="1365.896" Y="-567.4867" Z="340.2485" />

		<TurnIn QuestName="Burning Down the House" QuestId="29966" TurnInName="General Nazgrim" TurnInId="56339" X="1435.823" Y="-548.5591" Z="351.7343" />

		<PickUp QuestName="Dawn&apos;s Blossom" QuestId="30015" GiverName="General Nazgrim" GiverId="56339" X="1435.823" Y="-548.5591" Z="351.7343" />
		<Code File="InteractWith" MobId="60952" GossipOptions="2" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" X="1420.051" Y="-489.8929" Z="356.2472" TerminateWhen="!HasQuest(30015) &amp;&amp; Unit(56339) == null" />
		<TurnIn QuestName="Dawn&apos;s Blossom" QuestId="30015" TurnInName="Lorewalker Cho" TurnInId="63577" X="1503.785" Y="-1821.804" Z="246.1794" />

		<PickUp QuestName="Welcome to Dawn&apos;s Blossom" QuestId="31230" GiverName="Toya" GiverId="56348" X="1505.904" Y="-1840.258" Z="246.2001" />
		<Code File="InteractWith" MobId="59173" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31230" QuestObjectiveIndex="3" X="1510.669" Y="-1835.2" Z="246.2001" />
		<Code File="InteractWith" MobId="59160" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31230" QuestObjectiveIndex="1" X="1579.828" Y="-1930.587" Z="267.6078" />
		<Code File="InteractWith" MobId="55809" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="31230" QuestObjectiveIndex="2" X="1616.349" Y="-1745.288" Z="263.1201" />

		<CustomBehavior File="SetHearthstone" AreaId="6071" MobId="55809" X="1616.349" Y="-1745.288" Z="263.1201" />

		<TurnIn QuestName="Welcome to Dawn&apos;s Blossom" QuestId="31230" TurnInName="Toya" TurnInId="56348" X="1507.295" Y="-1839.943" Z="246.199" />
		<PickUp QuestName="The Double Hozen Dare" QuestId="29716" GiverName="An Windfur" GiverId="55234" X="1505.703" Y="-1808.507" Z="246.1493" />
		<PickUp QuestName="The Silkwood Road" QuestId="29865" GiverName="Tzu the Ironbelly" GiverId="56062" X="1520.919" Y="-1794.125" Z="246.1873" />
		<PickUp QuestName="The Threads that Stick" QuestId="29866" GiverName="Lo Wanderbrew" GiverId="59178" X="1540.767" Y="-1802.322" Z="246.2004" />

		<Code File="InteractWith" MobIds="209826, 209833, 209951" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29866" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="1411.442" Y="-1719.541" Z="221.7638" />
				<Hotspot X="1366.198" Y="-1570.37" Z="256.8474" />
				<Hotspot X="1275.188" Y="-1503.97" Z="247.7016" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="56070" QuestId="29865" >
			<HuntingGrounds>
				<Hotspot X="1411.442" Y="-1719.541" Z="221.7638" />
				<Hotspot X="1366.198" Y="-1570.37" Z="256.8474" />
				<Hotspot X="1275.188" Y="-1503.97" Z="247.7016" />
			</HuntingGrounds>
		</Code>

		<PickUp QuestName="Down Kitty!" QuestId="29717" GiverName="An Windfur" GiverId="55274" X="1410.593" Y="-1343.292" Z="241.4864" />

		<Code File="InteractWith" MobId="55267" GossipOptions="1" CollectionDistance="200" QuestId="29716" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="1451.897" Y="-1312.834" Z="244.5976" />
				<Hotspot X="1425.467" Y="-1200.383" Z="223.3818" />
				<Hotspot X="1546.894" Y="-1139.366" Z="248.5048" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="55236" QuestId="29717" >
			<HuntingGrounds>
				<Hotspot X="1451.897" Y="-1312.834" Z="244.5976" />
				<Hotspot X="1425.467" Y="-1200.383" Z="223.3818" />
				<Hotspot X="1546.894" Y="-1139.366" Z="248.5048" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="The Double Hozen Dare" QuestId="29716" TurnInName="An Windfur" TurnInId="55274" X="1644.555" Y="-1273.258" Z="242.7596" />
		<TurnIn QuestName="Down Kitty!" QuestId="29717" TurnInName="An Windfur" TurnInId="55274" X="1644.555" Y="-1273.258" Z="242.7596" />

		<PickUp QuestName="The Jade Witch" QuestId="29723" GiverName="An Windfur" GiverId="55274" X="1644.555" Y="-1273.258" Z="242.7596" />
		<While Condition="DoQuest(29723)" >
			<Code File="InteractWith" MobId="55368" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29723" QuestObjectiveIndex="1" X="1501.196" Y="-1291.331" Z="248.764" TerminateWhen="Unit(55367, u =&gt; u.Attackable) != null" />
			<Code File="KillUntilComplete" MobId="55368" QuestId="29723" X="1498.128" Y="-1320.051" Z="245.6444" TerminateWhen="Unit(55367, u =&gt; u.Attackable) == null" />
		</While>

		<TurnIn QuestName="The Silkwood Road" QuestId="29865" TurnInName="Tzu the Ironbelly" TurnInId="56062" X="1519.283" Y="-1796.241" Z="246.1821" />
		<TurnIn QuestName="The Threads that Stick" QuestId="29866" TurnInName="Lo Wanderbrew" TurnInId="59178" X="1539.799" Y="-1801.099" Z="246.2002" />
		<TurnIn QuestName="The Jade Witch" QuestId="29723" TurnInName="An Windfur" TurnInId="55413" X="1511.009" Y="-1823.087" Z="246.199" />
		<PickUp QuestName="Find the Boy" QuestId="29993" GiverName="Kai Wanderbrew" GiverId="59173" X="1516.005" Y="-1814.087" Z="246.1973" />
		<PickUp QuestName="All We Can Spare" QuestId="29925" GiverName="Toya" GiverId="56348" X="1505.678" Y="-1836.83" Z="246.1987" />
		<TurnIn QuestName="Find the Boy" QuestId="29993" TurnInName="Inkmaster Wei" TurnInId="56065" X="1555.412" Y="-2383.947" Z="161.7303" />
		<PickUp QuestName="Shrine of the Dawn" QuestId="29995" GiverName="Inkmaster Wei" GiverId="56065" X="1555.412" Y="-2383.947" Z="161.7303" />
		<PickUp QuestName="The Perfect Color" QuestId="29881" GiverName="Inkmaster Glenzu" GiverId="56064" X="1544.351" Y="-2383.739" Z="161.4368" />
		<PickUp QuestName="Quill of Stingers" QuestId="29882" GiverName="Inkmaster Jo Po" GiverId="56063" X="1548.952" Y="-2409.565" Z="161.2337" />

		<Code File="InteractWith" MobId="209836" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29881" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="1525.128" Y="-2251.095" Z="157.327" />
				<Hotspot X="1612.38" Y="-2242.268" Z="158.6568" />
				<Hotspot X="1372.991" Y="-2318.112" Z="146.2181" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="56201" QuestId="29882" >
			<HuntingGrounds>
				<Hotspot X="1525.128" Y="-2251.095" Z="157.327" />
				<Hotspot X="1612.38" Y="-2242.268" Z="158.6568" />
				<Hotspot X="1372.991" Y="-2318.112" Z="146.2181" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="The Perfect Color" QuestId="29881" TurnInName="Inkmaster Glenzu" TurnInId="56064" X="1542.517" Y="-2384.267" Z="161.3377" />
		<TurnIn QuestName="Quill of Stingers" QuestId="29882" TurnInName="Inkmaster Jo Po" TurnInId="56063" X="1547.777" Y="-2415.775" Z="160.4142" />
		<TurnIn QuestName="Shrine of the Dawn" QuestId="29995" TurnInName="Syra Goldendraft" TurnInId="56708" X="1875.682" Y="-2219.906" Z="232.0172" />

		<PickUp QuestName="Getting Permission" QuestId="29920" GiverName="Syra Goldendraft" GiverId="56708" X="1875.682" Y="-2219.906" Z="232.0172" />
		<Code File="InteractWith" MobId="56209" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29920" QuestObjectiveIndex="2" X="1862.793" Y="-2320.857" Z="256.2074" />
		<Code File="InteractWith" MobId="56210" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29920" QuestObjectiveIndex="3" X="1938.662" Y="-2287.79" Z="240.2343" />
		<Code File="InteractWith" MobId="56206" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29920" QuestObjectiveIndex="1" X="1993.569" Y="-2219.941" Z="246.6634" />
		<TurnIn QuestName="Getting Permission" QuestId="29920" TurnInName="Lo Wanderbrew" TurnInId="55788" X="1879.201" Y="-2224.691" Z="232.7823" />

		<TurnIn QuestName="All We Can Spare" QuestId="29925" TurnInName="Lorewalker Cho" TurnInId="56345" X="2389.753" Y="-2105.33" Z="230.662" />

		<PickUp QuestName="I Have No Jade And I Must Scream" QuestId="29928" GiverName="Foreman Mann" GiverId="56346" X="2389.753" Y="-2105.33" Z="230.662" />
		<While Condition="DoQuest(29928)" >
			<Code File="KillUntilComplete" MobId="56349" QuestId="29928" TerminateWhen="Object(209863) != null" >
				<HuntingGrounds>
					<Hotspot X="2222.102" Y="-1952.45" Z="222.5105" />
					<Hotspot X="2184.862" Y="-1878.947" Z="219.0445" />
				</HuntingGrounds>
			</Code>
			<Code File="InteractWith" MobId="209863" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29928" QuestObjectiveIndex="1" TerminateWhen="Object(209863) == null" />
		</While>
		<If Condition="QuestDone(56346)" >
			<TurnIn QuestName="I Have No Jade And I Must Scream" QuestId="29928" TurnInName="Foreman Mann" TurnInId="56346" X="2390.201" Y="-2105.833" Z="230.5727" />
			<Code File="RunCode" Code="await SkipCutscene();" />
		</If>

		<PickUp QuestName="Calamity Jade" QuestId="29926" GiverName="Foreman Mann" GiverId="56346" X="2389.83" Y="-2105.925" Z="230.6057" />
		<PickUp QuestName="Mann&apos;s Man" QuestId="29927" GiverName="Foreman Mann" GiverId="56346" X="2389.83" Y="-2105.925" Z="230.6057" />
		<PickUp QuestName="The Sprites&apos; Plight" QuestId="29745" GiverName="Outcast Sprite" GiverId="55438" X="2491.098" Y="-1950.959" Z="217.5755" />

		<While Condition="DoQuest(29745)" >
			<If Condition="!IsObjectiveComplete(2, 29745)" >
				<MoveTo X="2704.059" Y="-1937.896" Z="214.7471" />
			</If>
			<Code File="KillUntilComplete" MobId="55288" QuestId="29745" QuestObjectiveIndex="1" >
				<HuntingGrounds>
					<Hotspot X="2653.2" Y="-1944.346" Z="214.2692" />
					<Hotspot X="2686.438" Y="-1862.88" Z="235.1369" />
				</HuntingGrounds>
			</Code>
		</While>

		<TurnIn QuestName="The Sprites&apos; Plight" QuestId="29745" />
		<PickUp QuestName="Break the Cycle" QuestId="29747" GiverName="Shattered Destroyer" GiverId="214871" X="2693.632" Y="-1943.568" Z="214.7262" />
		<PickUp QuestName="Simulacrumble" QuestId="29748" GiverName="Shattered Destroyer" GiverId="214871" X="2693.632" Y="-1943.568" Z="214.7262" />

		<Code File="InteractWith" MobId="214873" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29748" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2721.369" Y="-1928.076" Z="214.8612" />
				<Hotspot X="2860.736" Y="-1929.026" Z="213.3026" />
				<Hotspot X="2872.77" Y="-1837.237" Z="233.9391" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Simulacrumble" QuestId="29748" />

		<Code File="KillUntilComplete" MobId="55279" QuestId="29747" >
			<HuntingGrounds>
				<Hotspot X="2721.369" Y="-1928.076" Z="214.8612" />
				<Hotspot X="2860.736" Y="-1929.026" Z="213.3026" />
				<Hotspot X="2872.77" Y="-1837.237" Z="233.9391" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Break the Cycle" QuestId="29747" />

		<PickUp QuestName="An Urgent Plea" QuestId="29749" GiverName="Pei-Zhi" GiverId="55480" X="2954.996" Y="-1635.422" Z="252.834" />
		<While Condition="DoQuest(29749)" >
			<Code File="InteractWith" MobId="209629" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29749" X="2954.996" Y="-1635.422" Z="252.834" TerminateWhen="Me.HasAura(103885)" />
			<DisableBehavior Name="Loot" />
			<Code File="KillUntilComplete" MobId="55489" QuestId="29749" X="2938.564" Y="-1639.949" Z="252.834" TerminateWhen="!Me.HasAura(103885)" />
			<EnableBehavior Name="Loot" />
		</While>
		<TurnIn QuestName="An Urgent Plea" QuestId="29749" TurnInName="Pei-Zhi" TurnInId="55614" X="2949.519" Y="-1637.566" Z="252.8329" />

		<PickUp QuestName="Ritual Artifacts" QuestId="29751" GiverName="Pei-Zhi" GiverId="55614" X="2949.519" Y="-1637.566" Z="252.8329" />
		<PickUp QuestName="Vessels of the Spirit" QuestId="29750" GiverName="Pei-Zhi" GiverId="55614" X="2949.519" Y="-1637.566" Z="252.8329" />
		<PickUp QuestName="The Wayward Dead" QuestId="29752" GiverName="Pei-Zhi" GiverId="55614" X="2949.519" Y="-1637.566" Z="252.8329" />

		<Code File="InteractWith" MobId="209701" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29751" QuestObjectiveIndex="3" X="2856.087" Y="-1496.205" Z="272.4429" />
		<Code File="InteractWith" MobId="209699" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29751" QuestObjectiveIndex="1" X="2917.019" Y="-1524.846" Z="255.884" />
		<Code File="InteractWith" MobId="209700" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29751" QuestObjectiveIndex="2" X="2988.171" Y="-1452.173" Z="244.1401" />

		<Code File="InteractWith" MobId="55290" MobState="Alive" CollectionDistance="200" InteractByUsingItemId="74771" PreInteractMountStrategy="Dismount" QuestId="29752" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2959.472" Y="-1456.232" Z="244.1401" />
				<Hotspot X="2904.618" Y="-1510.627" Z="255.8839" />
				<Hotspot X="2994.232" Y="-1399.901" Z="244.1402" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="55291" QuestId="29750" >
			<HuntingGrounds>
				<Hotspot X="2959.472" Y="-1456.232" Z="244.1401" />
				<Hotspot X="2904.618" Y="-1510.627" Z="255.8839" />
				<Hotspot X="2994.232" Y="-1399.901" Z="244.1402" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Ritual Artifacts" QuestId="29751" TurnInName="Pei-Zhi" TurnInId="55614" X="2950.152" Y="-1637.368" Z="252.8336" />
		<TurnIn QuestName="Vessels of the Spirit" QuestId="29750" TurnInName="Pei-Zhi" TurnInId="55614" X="2950.152" Y="-1637.368" Z="252.8336" />
		<TurnIn QuestName="The Wayward Dead" QuestId="29752" TurnInName="Pei-Zhi" TurnInId="55614" X="2950.152" Y="-1637.368" Z="252.8336" />
		<PickUp QuestName="Back to Nature" QuestId="29753" GiverName="Pei-Zhi" GiverId="55614" X="2950.152" Y="-1637.368" Z="252.8336" />
		<PickUp QuestName="A Humble Offering" QuestId="29756" GiverName="Pei-Zhi" GiverId="55614" X="2950.152" Y="-1637.368" Z="252.8336" />

		<While Condition="DoQuest(29753)" >
			<MoveTo X="3071.361" Y="-1366.781" Z="211.5285" />
			<CustomBehavior File="ForcedDismount" />
			<CustomBehavior File="UseItemTargetLocation" QuestId="29753" QuestObjectiveIndex="1" ItemId="74808" WaitTime="6000" ClickToX="3071.361" ClickToY="-1366.781" ClickToZ="211.5285" />
		</While>

		<Code File="InteractWith" MobId="209825" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29756" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="3071.179" Y="-1366.051" Z="211.6507" />
				<Hotspot X="3141.604" Y="-1272.718" Z="199.1292" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Back to Nature" QuestId="29753" TurnInName="Pei-Zhi" TurnInId="55614" X="2948.63" Y="-1635.791" Z="252.8335" />
		<TurnIn QuestName="A Humble Offering" QuestId="29756" TurnInName="Pei-Zhi" TurnInId="55614" X="2948.63" Y="-1635.791" Z="252.8335" />

		<PickUp QuestName="To Bridge Earth and Sky" QuestId="29754" GiverName="Pei-Zhi" GiverId="55614" X="2948.63" Y="-1635.791" Z="252.8335" />
		<Code File="KillUntilComplete" MobId="55902" QuestId="29754" X="3065.738" Y="-1607.065" Z="222.7649" />
		<TurnIn QuestName="To Bridge Earth and Sky" QuestId="29754" />

		<!-- <PickUp QuestName="Pei-Back" QuestId="29755",  Auto pickup -->
		<While Condition="DoQuest(29755)" >
			<CustomBehavior File="Hooks\DoWhen" ActivityName="GrabBody" AllowUseDuringCombat="true" AllowExecutionWhileNotAlive="false" UseWhen="!IsQuestCompleted(29755) &amp;&amp; Me.HasAura(106539)" >
				<DisableBehavior Name="Combat" />
				<CustomBehavior File="InteractWith" MobId="56600" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" IgnoreCombat="true" /> <!-- Grab body! -->
				<EnableBehavior Name="Combat" />
			</CustomBehavior>

			<Code File="KillUntilComplete" MobIds="56595, 56596" QuestId="29755" X="3155.284" Y="-1518.925" Z="200.1354" />

			<Code File="Hooks\DoWhen" ActivityName="GrabBody" Command="Remove" />
		</While>
		<TurnIn QuestName="Pei-Back" QuestId="29755" TurnInName="Pei-Zhi" TurnInId="59492" X="3066.512" Y="-1606.715" Z="222.7642" />

		<PickUp QuestName="The High Elder" QuestId="29618" GiverName="Lin Tenderpaw" GiverId="54913" X="2489.071" Y="-1687.951" Z="429.9613" />
		<TurnIn QuestName="The High Elder" QuestId="29618" TurnInName="High Elder Cloudfall" TurnInId="54914" X="2485.955" Y="-1711.223" Z="449.4715" />

		<PickUp QuestName="A Courteous Guest" QuestId="29619" GiverName="Lin Tenderpaw" GiverId="54913" X="2487.446" Y="-1687.49" Z="429.9574" />
		<Code File="InteractWith" MobId="209436" CollectionDistance="200" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29619" QuestObjectiveIndex="1" X="2386.643" Y="-1735.352" Z="374.9711" />
		<TurnIn QuestName="A Courteous Guest" QuestId="29619" TurnInName="Lin Tenderpaw" TurnInId="54913" X="2488.638" Y="-1685.721" Z="429.7188" />

		<PickUp QuestName="The Great Banquet" QuestId="29620" GiverName="Lin Tenderpaw" GiverId="54913" X="2488.638" Y="-1685.721" Z="429.7188" />
		<Code File="InteractWith" MobId="54914" GossipOptions="2,2" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29620" QuestObjectiveIndex="1" X="2571.071" Y="-1535.299" Z="406.2947" />
		<If Condition="QuestDone(54914)" >
			<TurnIn QuestName="The Great Banquet" QuestId="29620" TurnInName="High Elder Cloudfall" TurnInId="54914" X="2570.862" Y="-1536.077" Z="406.2939" />
			<CustomBehavior File="WaitTimer" WaitTime="12000" />
		</If>

		<PickUp QuestName="Your Training Starts Now" QuestId="29622" GiverName="Xiao" GiverId="54926" X="2553.593" Y="-1554.823" Z="406.2939" />
		<PickUp QuestName="Groundskeeper Wu" QuestId="29626" GiverName="Xiao" GiverId="54926" X="2553.593" Y="-1554.823" Z="406.2939" />

		<PickUp QuestName="Becoming Battle-Ready" QuestId="29632" GiverName="Master Stone Fist" GiverId="54922" X="2502.174" Y="-1570.778" Z="400.869" />
		<Code File="InteractWith" MobId="54944" GossipOptions="1" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29632" QuestObjectiveIndex="1" X="2480.917" Y="-1577.449" Z="400.869" />
		<TurnIn QuestName="Becoming Battle-Ready" QuestId="29632" TurnInName="Master Stone Fist" TurnInId="54922" X="2495.989" Y="-1569.063" Z="400.869" />

		<PickUp QuestName="Zhi-Zhi, the Dextrous" QuestId="29633" GiverName="Master Stone Fist" GiverId="54922" X="2495.989" Y="-1569.063" Z="400.869" />
		<PickUp QuestName="Husshun, the Wizened" QuestId="29634" GiverName="Master Stone Fist" GiverId="54922" X="2495.989" Y="-1569.063" Z="400.869" />

		<While Condition="DoQuest(29634)" >
			<Code File="InteractWith" MobId="54925" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29634" QuestObjectiveIndex="1" X="2528.962" Y="-1657.855" Z="402.4012" TerminateWhen="Unit(54925, u =&gt; u.Attackable) != null" />
			<Code File="KillUntilComplete" MobId="54925" QuestId="29634" X="2528.962" Y="-1657.855" Z="402.4012" TerminateWhen="Unit(54925, u =&gt; u.Attackable) == null" />
		</While>

		<While Condition="DoQuest(29633)" >
			<Code File="InteractWith" MobId="54924" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29633" QuestObjectiveIndex="1" X="2440.395" Y="-1555.012" Z="411.1256" TerminateWhen="Unit(54924, u =&gt; u.Attackable) != null" />
			<Code File="KillUntilComplete" MobId="54924" QuestId="29633" X="2440.395" Y="-1555.012" Z="411.1256" TerminateWhen="Unit(54924, u =&gt; u.Attackable) == null" />
		</While>

		<TurnIn QuestName="Zhi-Zhi, the Dextrous" QuestId="29633" TurnInName="Master Stone Fist" TurnInId="54922" X="2495.76" Y="-1569.42" Z="400.8683" />
		<TurnIn QuestName="Husshun, the Wizened" QuestId="29634" TurnInName="Master Stone Fist" TurnInId="54922" X="2495.76" Y="-1569.42" Z="400.8683" />

		<PickUp QuestName="Xiao, the Eater" QuestId="29635" GiverName="Master Stone Fist" GiverId="54922" X="2495.76" Y="-1569.42" Z="400.8683" />
		<While Condition="DoQuest(29635)" >
			<Code File="InteractWith" MobId="54926" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29635" QuestObjectiveIndex="1" X="2547.967" Y="-1559.898" Z="406.2937" TerminateWhen="Unit(54926, u =&gt; u.Attackable) != null" />
			<Code File="KillUntilComplete" MobId="54926" QuestId="29635" X="2547.967" Y="-1559.898" Z="406.2937" TerminateWhen="Unit(54926, u =&gt; u.Attackable) == null" />
		</While>
		<TurnIn QuestName="Xiao, the Eater" QuestId="29635" TurnInName="Master Stone Fist" TurnInId="54922" X="2501.316" Y="-1570.848" Z="400.8691" />

		<PickUp QuestName="A Test of Endurance" QuestId="29636" GiverName="Master Stone Fist" GiverId="54922" X="2496.938" Y="-1570.394" Z="400.8688" />
		<TurnIn QuestName="Groundskeeper Wu" QuestId="29626" TurnInName="Groundskeeper Wu" TurnInId="54915" X="2552.034" Y="-1456.428" Z="406.1143" />
		<PickUp QuestName="A Proper Weapon" QuestId="29627" GiverName="Groundskeeper Wu" GiverId="54915" X="2552.034" Y="-1456.428" Z="406.1143" />

		<Code File="InteractWith" MobId="54981" NonCompeteDistance="0" InteractByBuyingItemId="72954" QuestId="29627" QuestObjectiveIndex="2" X="2523.49" Y="-1439.103" Z="388.1579" />
		<Code File="InteractWith" MobId="54982" NonCompeteDistance="0" InteractByBuyingItemId="72979" BuyItemCount="3" QuestId="29627" QuestObjectiveIndex="3" X="2502.412" Y="-1465.758" Z="388.2195" />
		<Code File="InteractWith" MobIds="209460, 209461, 209462, 209463, 209464" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29627" QuestObjectiveIndex="1" X="2493.331" Y="-1465.019" Z="389.5023" />

		<TurnIn QuestName="A Proper Weapon" QuestId="29627" TurnInName="Groundskeeper Wu" TurnInId="54915" X="2551.044" Y="-1457.506" Z="406.1149" />
		<PickUp QuestName="A Strong Back" QuestId="29628" GiverName="Groundskeeper Wu" GiverId="54915" X="2551.044" Y="-1457.506" Z="406.1149" />
		<PickUp QuestName="A Steady Hand" QuestId="29629" GiverName="Groundskeeper Wu" GiverId="54915" X="2551.044" Y="-1457.506" Z="406.1149" />
		<PickUp QuestName="And a Heavy Fist" QuestId="29630" GiverName="Groundskeeper Wu" GiverId="54915" X="2551.044" Y="-1457.506" Z="406.1149" />
		<TurnIn QuestName="Your Training Starts Now" QuestId="29622" TurnInName="Instructor Xann" TurnInId="54917" X="2329.381" Y="-1454.467" Z="362.2652" />
		<!-- Perfection + the quests after it,  not worth it because they are very slow -->

		<TurnIn QuestName="A Test of Endurance" QuestId="29636" TurnInName="Instructor Myang" TurnInId="54918" X="2528.365" Y="-1269.449" Z="388.1015" />

		<PickUp QuestName="The Rumpus" QuestId="29637" GiverName="Instructor Myang" GiverId="54918" X="2528.365" Y="-1269.449" Z="388.1015" />
		<While Condition="DoQuest(54918)" >
			<MoveTo X="2573.604" Y="-1270.931" Z="377.7181" />
			<Code File="UseItem" ItemId="73369" QuestId="54918" QuestObjectiveIndex="1" X="2573.604" Y="-1270.931" Z="377.7181" TerminateWhen="Me.HasAura(102953)" />
			<Code File="KillUntilComplete" MobId="55139" QuestId="54918" X="2573.604" Y="-1270.931" Z="377.7181" TerminateWhen="!Me.HasAura(102953)" />
		</While>
		<TurnIn QuestName="The Rumpus" QuestId="29637" TurnInName="Instructor Myang" TurnInId="54918" X="2529.515" Y="-1271.845" Z="388.1012" />

		<PickUp QuestName="Burning Bright" QuestId="29631" GiverName="Guard Shan Long" GiverId="55094" X="2541.682" Y="-1202.385" Z="380.9959" />

		<While Condition="DoQuest(29628)" >
			<Code File="Hooks\DoWhen" ActivityName="KeepCauldronClose" LogExecution="false" AllowUseWhileMounted="true" UseWhen="Unit(55086, u =&gt; u.CreatedByUnit == Me &amp;&amp; u.DistanceSqr &gt; 40f*40f) != null" >
				<Code File="Message" Text="Waiting for cauldron to slide up." />
				<Code File="RunCode" Code="await CommonCoroutines.StopMoving();" />
				<Code File="WaitTimer" WaitTime="20000" TerminateWhen="Unit(55086, u =&gt; u.DistanceSqr &lt;= 15f*15f) != null" />
			</Code>
			<MoveTo X="2833.439" Y="-1188.525" Z="330.1518" />
			<UseMount Value="false" />
			<CustomBehavior File="ForcedDismount" />
			<Code File="InteractWith" MobId="209551" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29628" X="2833.439" Y="-1188.525" Z="330.1518" TerminateWhen="!Me.HasAura(102908)" />
			<MoveTo X="2552.122" Y="-1454.823" Z="406.1151" />
			<CustomBehavior File="Hooks\DoWhen" ActivityName="KeepCauldronClose" Command="Remove" />
			<UseMount Value="true" />
		</While>

		<TurnIn QuestName="A Strong Back" QuestId="29628" TurnInName="Groundskeeper Wu" TurnInId="54915" X="2552.122" Y="-1454.823" Z="406.1151" />

		<Code File="KillUntilComplete" MobId="54987" QuestId="29630" >
			<HuntingGrounds>
				<Hotspot X="2668.04" Y="-1181.72" Z="358.8344" />
				<Hotspot X="2807.624" Y="-1172.214" Z="328.3892" />
			</HuntingGrounds>
		</Code>

		<Code File="InteractWith" MobIds="209550" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29629" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2633.609" Y="-1067.616" Z="353.5785" />
				<Hotspot X="2657.184" Y="-961.1103" Z="346.798" />
				<Hotspot X="2713.576" Y="-877.7308" Z="327.3544" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobIds="55238, 54988" QuestId="29631" >
			<HuntingGrounds>
				<Hotspot X="2633.609" Y="-1067.616" Z="353.5785" />
				<Hotspot X="2657.184" Y="-961.1103" Z="346.798" />
				<Hotspot X="2713.576" Y="-877.7308" Z="327.3544" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Burning Bright" QuestId="29631" TurnInName="Guard Shan Long" TurnInId="55094" X="2545.902" Y="-1199.01" Z="380.1756" />
		<TurnIn QuestName="A Steady Hand" QuestId="29629" TurnInName="Groundskeeper Wu" TurnInId="54915" X="2551.719" Y="-1452.304" Z="406.1147" />
		<TurnIn QuestName="And a Heavy Fist" QuestId="29630" TurnInName="Groundskeeper Wu" TurnInId="54915" X="2551.719" Y="-1452.304" Z="406.1147" />
		<TurnIn QuestName="Mann&apos;s Man" QuestId="29927" TurnInName="Hao Mann" TurnInId="56347" X="2297.595" Y="-1722.683" Z="220.4785" />
		<PickUp QuestName="Trapped!" QuestId="29929" GiverName="Hao Mann" GiverId="56347" X="2297.595" Y="-1722.683" Z="220.4785" />

		<Code File="InteractWith" MobIds="56464" CollectionDistance="200" QuestId="29929" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="2308.371" Y="-1704.898" Z="187.0982" />
				<Hotspot X="2229.729" Y="-1655.934" Z="186.9189" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" QuestId="29926" >
			<HuntingGrounds>
				<Hotspot X="2308.371" Y="-1704.898" Z="187.0982" />
				<Hotspot X="2229.729" Y="-1655.934" Z="186.9189" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="56401" PursueWhen="!IsObjectiveComplete(1, 29926)" />
				<PursueUnit Id="56404" PursueWhen="!IsObjectiveComplete(2, 29926)" />
			</PursuitList>
		</Code>

		<TurnIn QuestName="Trapped!" QuestId="29929" TurnInName="Hao Mann" TurnInId="56467" X="2286.044" Y="-1778.442" Z="233.8723" />

		<PickUp QuestName="What&apos;s Mined Is Yours" QuestId="29930" GiverName="Hao Mann" GiverId="56467" X="2286.044" Y="-1778.442" Z="233.8723" />
		<While Condition="DoQuest(29930)" >
			<Code File="InteractWith" MobId="56527" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="50000" QuestId="29930" X="2285.008" Y="-1777.746" Z="233.8892" TerminateWhen="Me.InVehicle" />
		</While>

		<TurnIn QuestName="Calamity Jade" QuestId="29926" TurnInName="Foreman Mann" TurnInId="56346" X="2390.58" Y="-2105.229" Z="230.5811" />
		<If Condition="QuestDone(29930)" >
			<TurnIn QuestName="What&apos;s Mined Is Yours" QuestId="29930" TurnInName="Foreman Mann" TurnInId="56346" X="2390.58" Y="-2105.229" Z="230.5811" />
			<Code File="RunCode" Code="await SkipCutscene();" />
		</If>

		<PickUp QuestName="The Serpent&apos;s Heart" QuestId="29931" GiverName="Foreman Mann" GiverId="56346" X="2390.58" Y="-2105.229" Z="230.5811" />
		<TurnIn QuestName="The Serpent&apos;s Heart" QuestId="29931" TurnInName="Foreman Raike" TurnInId="59391" X="800.0468" Y="-1917.722" Z="59.6725" />

		<PickUp QuestName="Love&apos;s Labor" QuestId="30495" GiverName="Foreman Raike" GiverId="59391" X="800.0468" Y="-1917.722" Z="59.6725" />
		<Code File="InteractWith" MobId="59395" GossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="30495" QuestObjectiveIndex="1" X="776.4786" Y="-1790.198" Z="56.52413" />
		<Code File="InteractWith" MobId="59401" GossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="30495" QuestObjectiveIndex="2" X="840.9648" Y="-1821.512" Z="65.37788" />
		<Code File="InteractWith" MobId="59392" GossipOptions="2" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="30495" QuestObjectiveIndex="3" X="859.2661" Y="-1916.209" Z="63.57568" />

		<While Condition="!IsObjectiveComplete(4, 30495)" >
			<Code File="InteractWith" MobId="59392" GossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="30495" QuestObjectiveIndex="4" X="859.2661" Y="-1916.209" Z="63.57568" TerminateWhen="Me.Z &gt;= 170 " />
			<Code File="InteractWith" MobId="59397" GossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="30495" QuestObjectiveIndex="4" X="859.2661" Y="-1916.209" Z="63.57568" TerminateWhen="Me.Z &lt;= 170" />
			<Code File="InteractWith" MobId="59400" GossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" X="859.2661" Y="-1916.209" Z="63.57568" TerminateWhen="Me.Z &lt;= 170" />
		</While>

		<TurnIn QuestName="Love&apos;s Labor" QuestId="30495" TurnInName="Foreman Raike" TurnInId="59391" X="797.5294" Y="-1918.852" Z="59.12475" />

		<!--
		<PickUp QuestName="The Temple of the Jade Serpent" QuestId="29932" GiverName="Foreman Raike" GiverId="59391" X="797.5294" Y="-1918.852" Z="59.12475" />
		<While Condition="DoQuest(29932)" >
			<Code File="InteractWith" MobId="59392" GossipOptions="2" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="29932" QuestObjectiveIndex="4" X="859.2661" Y="-1916.209" Z="63.57568" TerminateWhen="Unit(59392) == null" />
			<Code File="InteractWith" MobId="57242" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" WaitTime="4000" QuestId="29932" QuestObjectiveIndex="1" X="995.5808" Y="-2442.495" Z="168.5977" />
			<CustomBehavior File="RunCode" Code="await SkipCutscene();" />
		</While>
		<TurnIn QuestName="The Temple of the Jade Serpent" QuestId="29932" TurnInName="Elder Sage Rain-Zhu" TurnInId="56782" X="920.5563" Y="-2605.271" Z="185.1199" />

		<PickUp QuestName="The Scryer&apos;s Dilemma" QuestId="29997" GiverName="Elder Sage Rain-Zhu" GiverId="56782" X="920.5563" Y="-2605.271" Z="185.1199" />
		<PickUp QuestName="The Librarian&apos;s Quandary" QuestId="29998" GiverName="Elder Sage Rain-Zhu" GiverId="56782" X="920.5563" Y="-2605.271" Z="185.1199" />
		<PickUp QuestName="They Call Him... Stormstout" QuestId="32019" GiverName="Elder Sage Rain-Zhu" GiverId="56782" X="920.5563" Y="-2605.271" Z="185.1199" /> -->

		<Checkpoint Level="87.5" />

		<Code File="LoadProfile" ProfileName="Valley of the Four Winds.xml" RememberProfile="true" />

	</QuestOrder>
</HBProfile>