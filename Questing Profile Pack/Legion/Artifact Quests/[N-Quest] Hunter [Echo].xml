<HBProfile xsi:noNamespaceSchemaLocation="../../../Schemas/QuestProfileSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<!-- Original contribution by EchoTiger -->
	<Name>[XX-Quest] PROFILENAME [Echo]</Name>

	<MinDurability>0.3</MinDurability>
	<MinFreeBagSlots>3</MinFreeBagSlots>

	<SellGrey>true</SellGrey>
	<SellWhite>true</SellWhite>
	<SellGreen>true</SellGreen>
	<SellBlue>true</SellBlue>
	<SellPurple>false</SellPurple>

	<MailGrey>false</MailGrey>
	<MailWhite>true</MailWhite>
	<MailGreen>true</MailGreen>
	<MailBlue>true</MailBlue>
	<MailPurple>true</MailPurple>

	<TargetElites>true</TargetElites>

	<AvoidMobs>
		<Mob Name="XXX" Entry="123" />
	</AvoidMobs>

	<Blackspots>
	</Blackspots>

	<Blacklists>
	</Blacklists>

	<Mailboxes> 
	</Mailboxes>

	<Vendors>
	</Vendors>

	<QuestOrder> <!-- No checkpoints here. -->
		<!-- RunCode Methods -->
			<CustomBehavior File="RunCode" Type="Definition"><![CDATA[
					bool DoQuest(params uint[] questIds)
					{
						foreach (var questId in questIds)
						{
							if (HasQuest(questId) && !IsQuestCompleted(questId)) return true;
						}
						return false;
					}
					bool NeedsQuest(params uint[] questIds)
					{
						foreach (var questId in questIds)
						{
							if (!HasQuest(questId) && !IsQuestCompleted(questId)) return true;
						}
						return false;
					}
					bool NeedsBreadcrumbQuest(params uint[] questIds)
					{
						foreach (var questId in questIds)
						{
							if (IsQuestCompleted(questId)) return false;
						}
						return true;
					}
					bool QuestDone(params uint[] questIds)
					{
						foreach (var questId in questIds)
						{
							if (HasQuest(questId) && IsQuestCompleted(questId)) return true;
						}
						return false;
					}
				]]>
			</CustomBehavior>
		<!-- END RunCode Methods -->

		<!-- Loc: Dalaran -->
			<PickUp QuestName="Needs of the Hunters" QuestId="40384" GiverName="Snowfeather" GiverId="100786" X="-843.1852" Y="4543.085" Z="728.5607" />
			<TurnIn QuestName="Needs of the Hunters" QuestId="40384" TurnInName="Emmarel Shadewarden" TurnInId="102478" X="-876.658" Y="4379.09" Z="739.1406" />

			<PickUp QuestName="The Hunter's Call" QuestId="41415" GiverName="Emmarel Shadewarden" GiverId="102478" X="-876.658" Y="4379.09" Z="739.1406" />
			<While Condition="DoQuest(41415)" >
				<CustomBehavior File="InteractWith" MobId="100810" GossipOptions="1" QuestId="41415" QuestObjectiveIndex="1" X="-791.3507" Y="4386.046" Z="740.1577" />
				<CustomBehavior File="InteractWith" MobId="99986" GossipOptions="1" QuestId="41415" QuestObjectiveIndex="3" X="-932.0243" Y="4415.24" Z="743.9978" />
				<CustomBehavior File="InteractWith" MobId="100171" GossipOptions="1" QuestId="41415" QuestObjectiveIndex="2" X="-893.8386" Y="4524.967" Z="730.6968" />
			</While>
			<TurnIn QuestName="The Hunter's Call" QuestId="41415" TurnInName="Emmarel Shadewarden" TurnInId="102478" X="-876.658" Y="4379.09" Z="739.1406" />

			<PickUp QuestName="Weapons of Legend" QuestId="40618" GiverName="Emmarel Shadewarden" GiverId="102478" X="-876.658" Y="4379.09" Z="739.1406" />
			<While Condition="DoQuest(40618)" >
				<If Condition="!Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestChoiceFrame:IsVisible()" >
					<CustomBehavior File="InteractWith" MobId="102478" GossipOptions="1" QuestId="41415" QuestObjectiveIndex="1" X="-876.658" Y="4379.09" Z="739.1406" />
				</If>

				<CustomBehavior File="UserDialog" QuestId="40618" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="150" ExpiryTime="300" ExpiryAction="InputEnabled_Continue" 
				Text="Choose an artifact weapon.\n\nIf you do not choose within 5minutes, the bot will pick the one appropriate for your current specialization." />
				
				<If Condition="Me.Specialization == WoWSpec.HunterBeastMastery" >
					<CustomBehavior File="Misc\RunLua" QuestId="40618" Lua="QuestChoiceFrameOption1.OptionButton:Click()" WaitTime="1000" />
				</If>
				<If Condition="Me.Specialization == WoWSpec.HunterSurvival" >
					<CustomBehavior File="Misc\RunLua" QuestId="40618" Lua="QuestChoiceFrameOption2.OptionButton:Click()" WaitTime="1000" />
				</If>
				<If Condition="Me.Specialization == WoWSpec.HunterMarksmanship" >
					<CustomBehavior File="Misc\RunLua" QuestId="40618" Lua="QuestChoiceFrameOption3.OptionButton:Click()" WaitTime="1000" />
				</If>
				<CustomBehavior File="Misc\RunLua" QuestId="40618" Lua="StaticPopup1Button1:Click();" />
			</While>
			<TurnIn QuestName="Weapons of Legend" QuestId="40618" TurnInName="Emmarel Shadewarden" TurnInId="102478" X="-876.658" Y="4379.09" Z="739.1406" />

			<!-- NOTE: <ConditionalCheck> : After this point, the quests are specific to the Titanstrike artifact ONLY. 
			Need to code out quest lines for the other artifacts -->

			<PickUp QuestName="A Beastly Expedition" QuestId="41541" GiverName="Emmarel Shadewarden" GiverId="102478" X="-876.658" Y="4379.09" Z="739.1406" />
			<TurnIn QuestName="A Beastly Expedition" QuestId="41541" TurnInName="Grif Wildheart" TurnInId="104381" X="-861.1233" Y="4285.741" Z="746.2857" />
		<!-- END Loc: Dalaran -->

		<!-- Loc: Stormheim -->
			<PickUp QuestName="Stolen Thunder" QuestId="41574" GiverName="Grif Wildheart" GiverId="104381" X="-861.1233" Y="4285.741" Z="746.2857" />
			<While Condition="DoQuest(41574)" >
				<CustomBehavior File="InteractWith" MobId="106235" QuestId="41574" QuestObjectiveIndex="1" X="-867.9774" Y="4287.264" Z="745.4191" />
				<CustomBehavior File="WaitTimer" WaitTime="60000" TerminateWhen="!Me.IsFlying" /> <!-- NOTE: <TechnicalCheck> : Not sure if IsFlying returns true while flying on this mount -->
				<!-- User gets off around X="4799.894" Y="82.00793" Z="-3.060262" -->
				<CustomBehavior File="InteractWith" MobId="104904" GossipOptions="1" QuestId="41574" QuestObjectiveIndex="2" X="4803.345" Y="77.96181" Z="-2.623047" />
				<CustomBehavior File="RunCode" Code="await Coroutine.Wait(120000, ()=> Bots.DungeonBuddy.Helpers.ScenarioInfo.Current.CurrentStageNumber == 2 " />
				<!-- NOTE: <AddAvoid> : Bot needs to kill Name="Swirling Storms" Entry="96455" as they are an AoE mob
										Bot will need to avoid Name="Fierce Winds" Entry="106432" as its moving through the room -->
				<!-- While avoiding the tornados, bot must get to X="4842.022" Y="337.6002" Z="-28.97828" and kill mobId Name="Spectral Windshaper" Entry="105968"  -->
				<!-- Escort Name="Grif Wildheart" Entry="104904" X="4858.161" Y="316.7202" Z="-30.90926"  TerminateWhen="Unit(104904) == null" -->
				<CustomBehavior File="InteractWith" MobId="249741" QuestId="41574" X="5003.885" Y="293.5677" Z="-26.92902" />
			</While>
			<TurnIn QuestName="Stolen Thunder" QuestId="41574" TurnInName="Mimiron" TurnInId="106558" X="2778.023" Y="2549.335" Z="364.3132" />
		<!-- END Loc: Stormheim -->

		<!-- Loc: Ulduar -->
			<PickUp QuestName="The Creator's Workshop" QuestId="42158" GiverName="Mimiron" GiverId="106558" X="2778.023" Y="2549.335" Z="364.3132" />
			<While Condition="DoQuest(42158)" >
				<CustomBehavior File="InteractWith" MobId="106558" QuestId="42158" QuestObjectiveIndex="1" X="2778.023" Y="2549.335" Z="364.3132" />

				<CustomBehavior File="WaitTimer" WaitTime="20000" />
				<!-- NOTE: <AddAvoid> : Bot will need to avoid the AoE that the fusion cores are releasing.  Can jump over the waves. -->
				<CustomBehavior File="InteractWith" MobId="249765" X="2734.787" Y="2625.814" Z="365.2617" />
				<CustomBehavior File="InteractWith" MobId="249773" X="2702.748" Y="2609.047" Z="365.3793" />

				<CustomBehavior File="WaitTimer" WaitTime="20000" />
				<!-- NOTE: <AddAvoid> : Bot will need to avoid the lightning balls that are being cast by the leviathan -->
				<CustomBehavior File="InteractWith" MobId="249766" X="2738.331" Y="2540.439" Z="365.2359" />
				<CustomBehavior File="InteractWith" MobId="249769" X="2735.51" Y="2524.254" Z="362.2268" /> 
				<CustomBehavior File="InteractWith" MobId="249768" X="2720.624" Y="2550.111" Z="362.1405" />
				<CustomBehavior File="InteractWith" MobId="249767" X="2708.903" Y="2540.141" Z="362.1704" />

				<CustomBehavior File="WaitTimer" WaitTime="20000" />
				<CustomBehavior File="InteractWith" MobId="249749" X="2790.452" Y="2569.373" Z="368.9039" />

				<CustomBehavior File="WaitTimer" QuestId="42158" WaitTime="20000" />
			</While>
			<TurnIn QuestName="The Creator's Workshop" QuestId="42158" TurnInName="Mimiron" TurnInId="106558" X="2762.512" Y="2569.122" Z="364.3132" />
		<!-- END Loc: Ulduar -->

		<!-- Loc: Stormpeaks -->
			<PickUp QuestName="Never Hunt Alone" QuestId="42185" GiverName="Mimiron" GiverId="106558" X="2762.512" Y="2569.122" Z="364.3132" />
			<While Condition="DoQuest(42158)" >
				<!-- NOTE: <AddCondition : Could use a 'If In Ulduar' on the below interactwith -->
				<CustomBehavior File="InteractWith" MobId="249755" X="2772.265" Y="2568.281" Z="364.3136" />

				<CustomBehavior File="InteractWith" MobId="106678" QuestId="42158" QuestObjectiveIndex="1" X="9324.997" Y="-1123.72" Z="1245.147" />
				<CustomBehavior File="WaitTimer" WaitTime="60000" TerminateWhen="!Me.IsFlying" /> <!-- NOTE: <TechnicalCheck> : Not sure if IsFlying returns true while flying on this mount -->

				<!-- Escort Name="Thorim" Entry="106714" X="7392.464" Y="-552.9268" Z="1897.497" TerminateWhen stage 3 ends -->

				<CustomBehavior File="InteractWith" MobId="103154" WaitTime="10000" QuestId="42158" X="7438.28" Y="-534.035" Z="1896.85" />
				<CustomBehavior File="InteractWith" MobId="249812" InteractByLooting="true" QuestId="42158" X="7446.769" Y="-535.7726" Z="1896.985" />
				<CustomBehavior File="WaitTimer" WaitTime="60000" TerminateWhen="Unit(106854, u =&gt; u.Distance &lt; 30) != null" />

				<CustomBehavior File="InteractWith" MobId="106854" QuestId="42158" X="7437.393" Y="-557.033" Z="1896.851" />
				<!-- Player lands at X="-821.7231" Y="4297.774" Z="746.2839" -->
				<CustomBehavior File="WaitTimer" WaitTime="40000" TerminateWhen="!Me.IsFlying" /> <!-- NOTE: <TechnicalCheck> : Not sure if IsFlying returns true while flying on this mount -->
			</While>
			<TurnIn QuestName="Never Hunt Alone" QuestId="42185" TurnInName="Grif Wildheart" TurnInId="106879" X="-819.5886" Y="4299.66" Z="746.2864" />
		<!-- END Loc: Stormpeaks -->

		<!-- Loc: Dalaran -->
			<PickUp QuestName="Hunter to Hunter" QuestId="41009" GiverName="Grif Wildheart" GiverId="106879" X="-819.5886" Y="4299.66" Z="746.2864" />
			<TurnIn QuestName="Hunter to Hunter" QuestId="41009" TurnInName="Emmarel Shadewarden" TurnInId="102478" X="-876.658" Y="4379.09" Z="739.1407" />

			<PickUp QuestName="On Eagle's Wings" QuestId="40953" GiverName="Emmarel Shadewarden" GiverId="102478" X="-876.658" Y="4379.09" Z="739.1407" />
			<While Condition="DoQuest(40953)" >
				<!-- NOTE: <ConditionCheck> : Could use a If in Dalaran condition here before using this interact. -->
				<CustomBehavior File="InteractWith" MobId="106678" GossipOptions="1" QuestId="96813" QuestObjectiveIndex="1" X="-863.934" Y="4298.434" Z="745.3467" /> <!-- NOTE: <TechnicalCheck> : Taxi button may count as 1. If so, then we need it to be 2. -->
				<CustomBehavior File="WaitTimer" WaitTime="170000" TerminateWhen="!Me.IsFlying" /> <!-- NOTE: <TechnicalCheck> : Not sure if IsFlying returns true while flying on this mount -->
			</While>
			<TurnIn QuestName="On Eagle's Wings" QuestId="40953" TurnInName="Emmarel Shadewarden" TurnInId="102578" X="4627.369" Y="5337.927" Z="849.1692" />
		<!-- END Loc: Dalaran -->

			<!-- NOTE: <ConditionalCheck> : Above this point, the quests are specific to the Titanstrike artifact ONLY. 
			Need to code out quest lines for the other artifacts -->

		<!-- Loc: Trueshot Lodge -->
			<PickUp QuestName="The Unseen Path" QuestId="40954" GiverName="Emmarel Shadewarden" GiverId="102578" X="4627.369" Y="5337.927" Z="849.1692" />
			<While Condition="DoQuest(40954)" >
				<MoveTo X="4652.311" Y="5284.013" Z="840.8151" />
				<CustomBehavior File="WaitTimer" WaitTime="60000" />
			</While>
			<TurnIn QuestName="The Unseen Path" QuestId="40954" TurnInName="Emmarel Shadewarden" TurnInId="102574" X="4650.709" Y="5284.17" Z="840.6922" />

			<PickUp QuestName="Oath of Service" QuestId="40955" GiverName="Emmarel Shadewarden" GiverId="102574" X="4650.709" Y="5284.17" Z="840.6922" />
			<While Condition="DoQuest(40955)" >
				<CustomBehavior File="InteractWith" MobId="102694" WaitTime="10000" QuestId="40954" QuestObjectiveIndex="1" X="4634.74" Y="5278.453" Z="840.7027" />
			</While>
			<TurnIn QuestName="Oath of Service" QuestId="40955" TurnInName="Emmarel Shadewarden" TurnInId="102574" X="4650.692" Y="5284.167" Z="840.6912" />

			<PickUp QuestName="Altar of the Eternal Hunt" QuestId="41053" GiverName="Emmarel Shadewarden" GiverId="102574" X="4650.692" Y="5284.167" Z="840.6912" />
			<TurnIn QuestName="Altar of the Eternal Hunt" QuestId="41053" TurnInName="Altar Keeper Biehn" TurnInId="102940" X="4498.039" Y="5254.65" Z="863.7154" />

			<PickUp QuestName="Infused with Power" QuestId="41047" GiverName="Altar Keeper Biehn" GiverId="102940" X="4498.039" Y="5254.65" Z="863.7154" />
			<While Condition="DoQuest(41047)" >
				<CustomBehavior File="InteractWith" MobId="245037" WaitTime="2000" QuestId="41047" X="4499.827" Y="5250.55" Z="863.7143" />
				<!-- NOTE: <TechnicalIssue> : Click() doesn't seem to be working in-game,  check to make sure this works. -->
				<!-- NOTE: <ConditionCheck> : This may be different depending on what artifact is chosen. This was developed with Titanstrike -->
				<CustomBehavior File="Misc\RunLua" WaitTime="1000" Lua="ArtifactFrame.PerksTab.startingPowerButton:Click();" />
			</While>
			<TurnIn QuestName="Infused with Power" QuestId="41047" TurnInName="Altar Keeper Biehn" TurnInId="102940" X="4498.039" Y="5254.65" Z="863.7154" />

			<PickUp QuestName="Tactical Matters" QuestId="40958" GiverName="Altar Keeper Biehn" GiverId="102940" X="4498.039" Y="5254.65" Z="863.7154" />
			<TurnIn QuestName="Tactical Matters" QuestId="40958" TurnInName="Tactician Tinderfell" TurnInId="103023" X="4534.788" Y="5289.723" Z="862.1301" />

			<PickUp QuestName="The Campaign Begins" QuestId="40959" GiverName="Tactician Tinderfell" GiverId="103023" X="4534.788" Y="5289.723" Z="862.1301" />
			<While Condition="DoQuest(40959)" >
				<CustomBehavior File="InteractWith" MobId="102669" WaitTime="1500" QuestId="40959" QuestObjectiveIndex="1" X="4536.392" Y="5292.927" Z="866.5453" />
				<!-- NOTE: <TechnicalIssue> : Cannot Click(); the map tab. Need a method for doing so. -->
				<CustomBehavior File="Misc\RunLua" WaitTime="2500" Lua="OrderHallMissionFrame.MapTab.ScrollContainer.Child.848c9c58.Icon:Click();" /> <!-- Doesn't work. -->
				<CustomBehavior File="Misc\RunLua" Lua="AdventureMapQuestChoiceDialog.AcceptButton:Click();" /> <!-- Doesn't work. -->
			</While>
			<TurnIn QuestName="The Campaign Begins" QuestId="40959" TurnInName="Tactician Tinderfell" TurnInId="103023" X="4534.788" Y="5289.723" Z="862.1301" />
		<!-- END Loc: Trueshot Lodge -->

		<!-- Loc: Dalaran -->
			<While Condition="DoQuest(39718)" >
				<CustomBehavior File="InteractWith" MobId="244510" WaitTime="30000" QuestId="39718" X="4552.774" Y="5244.073" Z="880.768" /> <!-- NOTE: <ConditionalCheck> : TerminateWhen Me In Dalaran -->
			</While>
			<TurnIn QuestName="Paradise Lost" QuestId="39718" TurnInName="Archmage Khadgar" TurnInId="86563" X="-833.8698" Y="4276.531" Z="746.255" />
		<!-- END Loc: Dalaran -->

		<CustomBehavior File="LoadProfile" ProfileName="../[Echo] Azsuna.xml" />
	</QuestOrder>
</HBProfile>