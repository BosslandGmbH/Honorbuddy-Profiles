<HBProfile xsi:noNamespaceSchemaLocation="../../Schemas/EchoQuestingSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<!-- Original contribution by EchoTiger -->
	<Name>Valley of the Four Winds ($ShortHash$)</Name>

	<DefaultNavType>Fly</DefaultNavType>

	<MinDurability>0.3</MinDurability>
	<MinFreeBagSlots>3</MinFreeBagSlots>

	<SellGrey>true</SellGrey>
	<SellWhite>true</SellWhite>
	<SellGreen>true</SellGreen>
	<SellBlue>true</SellBlue>
	<SellPurple>false</SellPurple>

	<MailGrey>false</MailGrey>
	<MailWhite>true</MailWhite>
	<MailGreen>true</MailGreen>
	<MailBlue>true</MailBlue>
	<MailPurple>true</MailPurple>

	<TargetElites>true</TargetElites>

	<AvoidMobs>
	</AvoidMobs>

	<Mailboxes>
	</Mailboxes>

	<Vendors>
	</Vendors>

	<Blackspots>
	</Blackspots>

	<Blacklist>
		<Mob Name="Snagtooth Troublemaker" Id="55873" Flags="Pull" /> <!-- Rodents on the roofs of buildings, bugs bot out -->
		<Mob Name="Hozen Dangler" Id="62537" Flags="Pull" /> <!-- Annoying mob that hands around places which bugs out the bots pulling. -->
	</Blacklist>

	<QuestOrder IgnoreCheckpoints="false" >
		<!-- Check function status -->
		<Code File="RunCode" Type="Definition">
			<![CDATA[
			private static bool? profileFunctionsEnabled => (bool?)AppDomain.CurrentDomain.GetData("QuestingProfiles_FunctionsEnabled");
			private static bool IsStoreProfile(string path) => path.StartsWith("store://");
			private static string Slashify(string path) => IsStoreProfile(path) ? path.Replace(@"\", "/") : path.Replace("/", @"\");

			public __CompiledBatchClass__()
			{
				if (profileFunctionsEnabled == null || profileFunctionsEnabled == false)
				{
					Bots.Professionbuddy.PBLog.Log(Colors.MediumPurple, "[Profile Message!]: ", Colors.Yellow, "Please stand by as the functions are being activated!");
					LoadProfile(@"..\..\Functions\Activate Functions.xml");
				}
			}

			private static void LoadProfile(string path)
			{
				var profile = GetNewPath(path);
				if (!IsStoreProfile(profile) && !File.Exists(profile))
				{
					Bots.Professionbuddy.PBLog.Log(Colors.MediumPurple, "[Profile Message!]: ", Colors.Yellow, "Profile does not exist.\n" + profile);
					return;
				}

				Bots.Professionbuddy.PBLog.Log(Colors.MediumPurple, "[Profile Message!]: ", Colors.Yellow, "Loading: " + profile);
				ProfileManager.LoadNew(profile, false);
			}

			private static string GetNewPath(string path)
			{
				if (IsStoreProfile(path))
					return Slashify(path);

				var currentProfile = ProfileManager.XmlLocation;
				if (IsStoreProfile(currentProfile))
					return Slashify(currentProfile + "/../" + path);

				var absolutePath = Path.Combine(Path.GetDirectoryName(currentProfile), path);
				absolutePath = Path.GetFullPath(absolutePath);
				var canonicalPath = new Uri(absolutePath).LocalPath;
				return Slashify(canonicalPath);
			}]]>
		</Code>
		<!-- END Check function status -->

		<If Condition="Me.IsAlliance" >
			<Code File="LoadProfile" ProfileName="..\..\Questing Autoloader.xml" />
		</If>
		<!-- RunCode Methods -->
			<Code File="RunCode">
			<![CDATA[
				Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.MediumPurple, "> [Profile Initialization Status] ", System.Windows.Media.Colors.CornflowerBlue, "\n     Auto-Looting	:: Enabled\n     Looting	:: Enabled\n     Game Addons	:: Disabled");
				Lua.DoString("SetCVar('AutoLootDefault', 1);");
				Lua.DoString("SetCVar('autoDismountFlying', 1);");
				CharacterSettings.Instance.LootMobs = true;
				CharacterSettings.Instance.Save();
				Logging.Write(System.Windows.Media.Colors.MediumPurple, "> [Ready to bot!]");
			]]>
			</Code>
			<Code File="RunCode" Type="Definition">
				<![CDATA[
						bool DoQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (HasQuest(questId) && !IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool NeedsQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (!HasQuest(questId) && !IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool NeedsBreadcrumbQuest(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (IsQuestCompleted(questId)) return false;
							}
							return true;
						}
						bool QuestDone(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								if (HasQuest(questId) && IsQuestCompleted(questId)) return true;
							}
							return false;
						}
						bool QuestFlaggedCompleted(params uint[] questIds)
						{
							foreach (var questId in questIds)
							{
								return Lua.GetReturnVal<bool>($"return IsQuestFlaggedCompleted({questId});", 0);
							}
							return false;
						}
						async Task SkipCutscene(int preWait = 3000, int postWait = 3000)
						{
					// Add detection of cutscene here.
							await Coroutine.Sleep(preWait);
					// Test and improve the working method.
							Lua.DoString("MovieFrame:StopMovie(); CinematicFrame_CancelCinematic(); StopCinematic();");
							await Coroutine.Sleep(postWait);
						}
					]]>
			</Code>
		<!-- END RunCode Methods -->


		<PickUp QuestName="Chen and Li Li" QuestId="29907" GiverName="Chen Stormstout" GiverId="56133" X="518.2825" Y="-696.5137" Z="247.235" />
		<While Condition="DoQuest(29907)" >
			<MoveTo X="542.108" Y="-608.9107" Z="262.0381" />
			<Code File="WaitTimer" WaitTime="15000" QuestId="29907" />
		</While>
		<TurnIn QuestName="Chen and Li Li" QuestId="29907" TurnInName="Pang Thunderfoot" TurnInId="56204" X="542.108" Y="-608.9107" Z="262.0381" />

		<PickUp QuestName="A Seemingly Endless Nuisance" QuestId="29908" GiverName="Pang Thunderfoot" GiverId="56204" X="542.108" Y="-608.9107" Z="262.0381" />
		<PickUp QuestName="A Poor Grasp of the Basics" QuestId="29877" GiverName="Muno the Farmhand" GiverId="56440" X="539.1062" Y="-570.6083" Z="258.7751" />

		<Code File="InteractWith" MobIds="56146, 56278, 56280, 56151, 56279, 56281" CollectionDistance="200" QuestId="29877" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="597.5269" Y="-552.6993" Z="253.7112" />
				<Hotspot X="525.2256" Y="-444.8404" Z="234.0029" />
				<Hotspot X="460.0491" Y="-403.4257" Z="212.8058" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" QuestId="29908" >
			<HuntingGrounds>
				<Hotspot X="597.5269" Y="-552.6993" Z="253.7112" />
				<Hotspot X="525.2256" Y="-444.8404" Z="234.0029" />
				<Hotspot X="460.0491" Y="-403.4257" Z="212.8058" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="56184" PursueWhen="!IsObjectiveComplete(1, 29908)" />
				<PursueUnit Id="56185" PursueWhen="!IsObjectiveComplete(1, 29908)" />
				<PursueUnit Id="65504" PursueWhen="!IsObjectiveComplete(2, 29908)" />
			</PursuitList>
		</Code>

		<TurnIn QuestName="A Poor Grasp of the Basics" QuestId="29877" TurnInName="Muno the Farmhand" TurnInId="56440" X="538.8289" Y="-570.3568" Z="258.9223" />
		<TurnIn QuestName="A Seemingly Endless Nuisance" QuestId="29908" TurnInName="Pang Thunderfoot" TurnInId="56204" X="541.2785" Y="-608.5696" Z="261.697" />
		<PickUp QuestName="Low Turnip Turnout" QuestId="29909" GiverName="Pang Thunderfoot" GiverId="56204" X="541.2785" Y="-608.5696" Z="261.697" />
		<PickUp QuestName="The Search for the Hidden Master" QuestId="30086" GiverName="Xiao" GiverId="56110" X="539.485" Y="-620.2884" Z="258.7412" />
		<TurnIn QuestName="The Search for the Hidden Master" QuestId="30086" TurnInName="Xiao" TurnInId="56110" X="539.485" Y="-620.2884" Z="258.7412" />
		<!-- <PickUp QuestName="Ken-Ken" QuestId="29873" GiverName="Xiao" GiverId="56110" X="539.485" Y="-620.2884" Z="258.7412" /> Not worth it -->
		<PickUp QuestName="Clever Ashyo" QuestId="29871" GiverName="Xiao" GiverId="56110" X="539.485" Y="-620.2884" Z="258.7412" />
		<!--<PickUp QuestName="Kang Bramblestaff" QuestId="29875" GiverName="Xiao" GiverId="56110" X="539.485" Y="-620.2884" Z="258.7412" /> Not worth it -->
		<PickUp QuestName="Lin Tenderpaw" QuestId="29872" GiverName="Xiao" GiverId="56110" X="539.485" Y="-620.2884" Z="258.7412" />
		<TurnIn QuestName="Low Turnip Turnout" QuestId="29909" TurnInName="Ang Thunderfoot" TurnInId="56207" X="441.83" Y="-517.7115" Z="243.7853" />
		<RecheckCheckpoints />
		<PickUp QuestName="Taking a Crop" QuestId="29940" GiverName="Ang Thunderfoot" GiverId="56207" X="441.83" Y="-517.7115" Z="243.7853" />
		<PickUp QuestName="Rampaging Rodents" QuestId="29910" GiverName="Ana Thunderfoot" GiverId="56465" X="404.4418" Y="-538.0571" Z="237.7572" />

		<While Condition="DoQuest(29910)" >
			<Code File="InteractWith" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" NumOfTimes="12" QuestId="29910" X="416.0971" Y="-547.0275" Z="238.4883" >
				<PursuitList>
					<PursueUnit Id="56203" PursueWhen="!IsObjectiveComplete(1, 29910)" />
					<PursueGameObject Id="209835" PursueWhen="!IsObjectiveComplete(2, 29910)" />
				</PursuitList>
			</Code>
		</While>

		<TurnIn QuestName="Rampaging Rodents" QuestId="29910" TurnInName="Ana Thunderfoot" TurnInId="56465" X="412.0758" Y="-538.3245" Z="238.5534" />

		<Code File="InteractWith" MobId="209891" CollectionDistance="200" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29940" QuestObjectiveIndex="1" X="379.0977" Y="-666.5434" Z="204.3961" />
		<Code File="InteractWith" MobIds="209892, 209899" CollectionDistance="200" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29940" QuestObjectiveIndex="2" X="254.6256" Y="-668.8595" Z="225.0266" />

		<TurnIn QuestName="Taking a Crop" QuestId="29940" TurnInName="Ang Thunderfoot" TurnInId="56207" X="439.4484" Y="-519.3344" Z="243.698" />
		<PickUp QuestName="Practically Perfect Produce" QuestId="29911" GiverName="Ang Thunderfoot" GiverId="56207" X="439.4484" Y="-519.3344" Z="243.698" />
		<TurnIn QuestName="Practically Perfect Produce" QuestId="29911" TurnInName="Pang Thunderfoot" TurnInId="56204" X="542.7619" Y="-608.3772" Z="262.6568" />

		<PickUp QuestName="The Fabulous Miss Fanny" QuestId="29912" GiverName="Pang Thunderfoot" GiverId="56204" X="542.6271" Y="-608.5645" Z="262.4953" />
		<While Condition="DoQuest(29912)" >
			<Code File="InteractWith" MobId="209844" InteractByLooting="true" QuestId="29912" QuestObjectiveIndex="1" X="526.0659" Y="-620.303" Z="258.741" TerminateWhen="HasItem(75259)" />
			<Code File="InteractWith" MobId="209843" InteractByLooting="true" QuestId="29912" QuestObjectiveIndex="2" X="526.0659" Y="-620.303" Z="258.741" TerminateWhen="HasItem(75258)" />
			<Code File="InteractWith" MobId="209842" InteractByLooting="true" QuestId="29912" QuestObjectiveIndex="3" X="526.0659" Y="-620.303" Z="258.741" TerminateWhen="HasItem(75256)" />

			<Code File="InteractWith" MobId="56192" InteractByGossipOptions="2" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" WaitTime="2500" QuestId="29912" QuestObjectiveIndex="1" X="536.7448" Y="-578.8542" Z="258.3906" TerminateWhen="!HasItem(75259)" />
			<Code File="InteractWith" MobId="56192" InteractByGossipOptions="1" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" WaitTime="2500" QuestId="29912" QuestObjectiveIndex="2" X="536.7448" Y="-578.8542" Z="258.3906" TerminateWhen="!HasItem(75258)" />
			<Code File="InteractWith" MobId="56192" InteractByGossipOptions="3" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" WaitTime="2500" QuestId="29912" QuestObjectiveIndex="3" X="536.7448" Y="-578.8542" Z="258.3906" TerminateWhen="!HasItem(75256)" />
		</While>
		<TurnIn QuestName="The Fabulous Miss Fanny" QuestId="29912" TurnInName="Liang Thunderfoot" TurnInId="56205" X="464.5152" Y="-275.772" Z="210.0411" />

		<PickUp QuestName="The Meat They&apos;ll Eat" QuestId="29913" GiverName="Liang Thunderfoot" GiverId="56205" X="464.5152" Y="-275.772" Z="210.0411" />
		<PickUp QuestName="Back to the Sty" QuestId="29914" GiverName="Liang Thunderfoot" GiverId="56205" X="464.5152" Y="-275.772" Z="210.0411" />

		<Code File="InteractWith" MobId="56253" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="29914" QuestObjectiveIndex="1" X="463.6618" Y="-79.60958" Z="179.1625" />
		<Code File="InteractWith" MobId="56255" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="29914" QuestObjectiveIndex="3" X="335.9407" Y="-96.39387" Z="180.0449" />
		<Code File="InteractWith" MobId="56254" NonCompeteDistance="0" InteractBlacklistTimeInSeconds="1" QuestId="29914" QuestObjectiveIndex="2" X="339.2855" Y="51.54745" Z="146.7547" />

		<Code File="KillUntilComplete" MobId="56256" QuestId="29913" QuestObjectiveIndex="2" X="300.1935" Y="78.7271" Z="145.1614" />
		<Code File="KillUntilComplete" MobId="56239" QuestId="29913" QuestObjectiveIndex="1" X="300.1935" Y="78.7271" Z="145.1614" >
			<HuntingGrounds>
				<Hotspot X="252.5625" Y="-95.8577" Z="190.9778" />
				<Hotspot X="386.6123" Y="-153.5105" Z="197.5119" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="The Meat They&apos;ll Eat" QuestId="29913" TurnInName="Liang Thunderfoot" TurnInId="56205" X="463.8082" Y="-274.9119" Z="210.0847" />
		<TurnIn QuestName="Back to the Sty" QuestId="29914" TurnInName="Liang Thunderfoot" TurnInId="56205" X="463.8082" Y="-274.9119" Z="210.0847" />
		<PickUp QuestName="A Neighbor&apos;s Duty" QuestId="29915" GiverName="Liang Thunderfoot" GiverId="56205" X="463.8082" Y="-274.9119" Z="210.0847" />
		<TurnIn QuestName="A Neighbor&apos;s Duty" QuestId="29915" TurnInName="Francis the Shepherd Boy" TurnInId="56208" X="237.1314" Y="-388.0764" Z="247.9347" />
		<RecheckCheckpoints />
		<PickUp QuestName="Piercing Talons and Slavering Jaws" QuestId="29916" GiverName="Francis the Shepherd Boy" GiverId="56208" X="237.1314" Y="-388.0764" Z="247.9347" />
		<PickUp QuestName="Lupello" QuestId="29917" GiverName="Francis the Shepherd Boy" GiverId="56208" X="237.1314" Y="-388.0764" Z="247.9347" />

		<Code File="KillUntilComplete" QuestId="29916" >
			<HuntingGrounds>
				<Hotspot X="173.932" Y="-390.9871" Z="240.5018" />
				<Hotspot X="168.5489" Y="-503.3866" Z="228.2261" />
				<Hotspot X="108.5447" Y="-317.6254" Z="224.8418" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="56034" PursueWhen="!IsObjectiveComplete(1, 29916)" />
				<PursueUnit Id="56106" PursueWhen="!IsObjectiveComplete(2, 29916)" />
			</PursuitList>
		</Code>

		<Code File="KillUntilComplete" MobId="56357" QuestId="29917" X="66.7618" Y="-538.7064" Z="202.4504" />

		<TurnIn QuestName="Piercing Talons and Slavering Jaws" QuestId="29916" TurnInName="Francis the Shepherd Boy" TurnInId="56208" X="237.9389" Y="-390.5331" Z="247.9714" />
		<TurnIn QuestName="Lupello" QuestId="29917" TurnInName="Francis the Shepherd Boy" TurnInId="56208" X="237.9389" Y="-390.5331" Z="247.9714" />
		<RecheckCheckpoints />

		<PickUp QuestName="A Lesson in Bravery" QuestId="29918" GiverName="Shang Thunderfoot" GiverId="56312" X="240.7151" Y="-388.5917" Z="248.3038" />
		<While Condition="DoQuest(29918)" >
			<Code File="Hooks\DoWhen" ActivityName="HitButton" AllowUseDuringCombat="true" AllowUseInVehicle="true" UseWhen="Lua.GetReturnVal&lt;bool&gt;(&quot;ExtraActionButton1:IsVisible()&quot;, 0)" >
				<Code File="Misc\RunLua" WaitTime="2500" Lua="ExtraActionButton1:Click();" />
			</Code>
			<Code File="InteractWith" MobId="56171" CollectionDistance="200" NonCompeteDistance="0" InteractByUsingItemId="75208" PreInteractMountStrategy="Dismount" QuestId="29918" X="247.4701" Y="-389.973" Z="249.12" TerminateWhen="Me.InVehicle" />
			<Code File="KillUntilComplete" MobId="56171" TerminateWhen="!Me.InVehicle" />
			<Code File="Hooks\DoWhen" ActivityName="HitButton" Command="Remove" />
		</While>
		<TurnIn QuestName="A Lesson in Bravery" QuestId="29918" TurnInName="Shang Thunderfoot" TurnInId="56312" X="186.7183" Y="-249.0288" Z="236.0162" />

		<PickUp QuestName="Great Minds Drink Alike" QuestId="29919" GiverName="Chen Stormstout" GiverId="56133" X="162.952" Y="-276.0398" Z="235.6676" />
		<While Condition="DoQuest(29919)" >
			<Code File="RunCode"><![CDATA[ TreeHooks.Instance.InsertHook("Questbot_Profile", 0, _ctmSimpleEscort ?? (_ctmSimpleEscort = new  CommonBehaviors.Actions.ActionRunCoroutine(ctx => CTMSimpleEscort()))); ]]></Code>
			<Code File="RunCode" Type="Definition" ><![CDATA[
					private Styx.TreeSharp.Composite _ctmSimpleEscort;
					private WoWUnit _escortPoi;
					private Vector3 _antiThrottleCoordinate;
					private Stopwatch _throttleTimer = new Stopwatch();
					private Random rnd = new Random();

					public async Task<bool> CTMSimpleEscort()
					{
						if (IsQuestCompleted(29919)) return false;
						if (!_throttleTimer.IsRunning)
							_throttleTimer.Start();
						if (_escortPoi == null || !_escortPoi.IsValid)
						{
							_escortPoi = ObjectManager.GetObjectsOfType<WoWUnit>().FirstOrDefault(unit => unit.Entry == 56571);
							if (_escortPoi == null) return false;
							_antiThrottleCoordinate = _escortPoi.Location;
						}
						if (_throttleTimer.Elapsed > TimeSpan.FromSeconds(3) && _antiThrottleCoordinate.DistanceSquared(_escortPoi.Location) > 4 * 4)
						{
							_throttleTimer.Restart();
							_antiThrottleCoordinate = _escortPoi.Location;
						}
						if (_escortPoi.DistanceSqr > 13 * 13)
						{
							TreeRoot.StatusText = $"Following Chen Stormstout";
							return (await CommonCoroutines.MoveTo(_antiThrottleCoordinate)).IsSuccessful();
						}
						if (_escortPoi.DistanceSqr <= 13 * 13)
						{
							TreeRoot.StatusText = $"Following Chen Stormstout";
							await Coroutine.Sleep(rnd.Next(250, 750));
							WoWMovement.ClickToMove(WoWMathHelper.CalculatePointBehind(_escortPoi.Location, _escortPoi.Rotation, 3f));
							return true;
						}
						return true;
					}
			]]>
			</Code>
			<If Condition="Unit(56571) == null" >
				<Code File="ForcedMount" />
				<Code File="InteractWith" MobId="56133" GossipOptions="1" NonCompeteDistance="0" QuestId="29919" QuestObjectiveIndex="1" X="162.952" Y="-276.0398" Z="235.6676" />
			</If>
			<Code File="WaitTimer" WaitTime="540000" QuestId="29919" TerminateWhen="Unit(56571) == null" />
			<Code File="RunCode"><![CDATA[ TreeHooks.Instance.RemoveHook("Questbot_Profile", _ctmSimpleEscort); ]]></Code>
		</While>
		<TurnIn QuestName="Great Minds Drink Alike" QuestId="29919" TurnInName="Mudmug" TurnInId="56474" X="-35.14411" Y="-21.22996" Z="154.6112" />

		<PickUp QuestName="Leaders Among Breeders" QuestId="29944" GiverName="Chen Stormstout" GiverId="56133" X="-36.09692" Y="-21.90339" Z="154.6115" />
		<PickUp QuestName="Yellow and Red Make Orange" QuestId="29945" GiverName="Li Li" GiverId="56138" X="-37.89931" Y="-22.89693" Z="154.492" />

		<Code File="KillUntilComplete" MobId="56513" QuestId="29944" QuestObjectiveIndex="2" X="91.7191" Y="60.46351" Z="163.5058" />
		<Code File="KillUntilComplete" MobId="56520" QuestId="29944" QuestObjectiveIndex="1" X="98.24796" Y="-5.870122" Z="165.2504" />
		<Code File="KillUntilComplete" MobId="56514" QuestId="29944" QuestObjectiveIndex="3" X="26.30766" Y="165.9921" Z="168.3618" />

		<Code File="InteractWith" MobId="209907" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29945" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="56.08719" Y="22.46885" Z="167.97" />
				<Hotspot X="-92.98094" Y="-73.01364" Z="155.182" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobIds="56531, 56532, 56523, 56524, 56526" QuestId="29945" QuestObjectiveIndex="2" >
			<HuntingGrounds>
				<Hotspot X="26.30766" Y="165.9921" Z="168.3618" />
				<Hotspot X="0.6260288" Y="90.38047" Z="166.0521" />
				<Hotspot X="93.332" Y="34.52155" Z="160.6252" />
				<Hotspot X="167.7771" Y="76.4488" Z="153.3205" />
				<Hotspot X="29.89556" Y="14.83457" Z="164.6995" />
			</HuntingGrounds>
		</Code>

		<If Condition="QuestDone(29945)" >
			<TurnIn QuestName="Yellow and Red Make Orange" QuestId="29945" TurnInName="Li Li" TurnInId="56138" X="-35.05416" Y="-20.24855" Z="154.6116" />
			<Code File="UseItem" ItemId="88377" TerminateWhen="!HasItem(88377)" />
			<Code File="DeleteItems" Ids="88377" />
		</If>

		<PickUp QuestName="Crouching Carrot, Hidden Turnip" QuestId="29947" GiverName="Li Li" GiverId="56138" X="-37.08894" Y="-20.96132" Z="154.6116" />

		<If Condition="QuestDone(29944)" >
			<TurnIn QuestName="Leaders Among Breeders" QuestId="29944" TurnInName="Chen Stormstout" TurnInId="56133" X="-36.50576" Y="-20.72297" Z="154.6116" />
			<Code File="UseItem" ItemId="88375" TerminateWhen="!HasItem(88375)" />
			<Code File="DeleteItems" Ids="88375" />
		</If>

		<PickUp QuestName="The Warren-Mother" QuestId="29946" GiverName="Chen Stormstout" GiverId="56133" X="-36.50576" Y="-20.72297" Z="154.6116" />
		<PickUp QuestName="Thieves to the Core" QuestId="29948" GiverName="Mudmug" GiverId="56474" X="-36.25774" Y="-17.66926" Z="154.687" />

		<While Condition="DoQuest(29946, 29947, 29948)" >
			<Code File="KillUntilComplete" MobId="56537" QuestId="29946" X="134.586" Y="18.27638" Z="132.2783" />
			<DisableBehavior Name="Pull" />

			<Code File="InteractWith" MobIds="211696" CollectionDistance="200" NonCompeteDistance="10" InteractByLooting="true" QuestId="29948" QuestObjectiveIndex="1" >
				<HuntingGrounds>
					<Hotspot X="179.4626" Y="-34.69911" Z="152.0639" />
					<Hotspot X="106.9251" Y="-29.27028" Z="139.1597" />
				</HuntingGrounds>
			</Code>

			<Code File="InteractWith" MobIds="56538" Range="25" CollectionDistance="200" NonCompeteDistance="10" InteractByUsingItemId="76370" QuestId="29947" QuestObjectiveIndex="1" >
				<HuntingGrounds>
					<Hotspot X="179.4626" Y="-34.69911" Z="152.0639" />
					<Hotspot X="106.9251" Y="-29.27028" Z="139.1597" />
				</HuntingGrounds>
			</Code>
			<EnableBehavior Name="Pull" />
		</While>

		<TurnIn QuestName="Thieves to the Core" QuestId="29948" TurnInName="Mudmug" TurnInId="56474" X="-35.2638" Y="-16.31117" Z="154.9564" />
		<TurnIn QuestName="The Warren-Mother" QuestId="29946" TurnInName="Chen Stormstout" TurnInId="56133" X="-35.64029" Y="-20.62983" Z="154.6115" />
		<TurnIn QuestName="Crouching Carrot, Hidden Turnip" QuestId="29947" TurnInName="Li Li" TurnInId="56138" X="-37.93267" Y="-21.4285" Z="154.5154" />
		<PickUp QuestName="Legacy" QuestId="29949" GiverName="Chen Stormstout" GiverId="56133" X="-35.48328" Y="-21.40765" Z="154.6105" />
		<TurnIn QuestName="Legacy" QuestId="29949" TurnInName="Li Li" TurnInId="56138" X="-38.22517" Y="-20.35678" Z="154.5272" />
		<RecheckCheckpoints />
		<PickUp QuestName="Li Li&apos;s Day Off" QuestId="29950" GiverName="Li Li" GiverId="56138" X="-38.22517" Y="-20.35678" Z="154.5272" />
		<PickUp QuestName="Muddy Water" QuestId="29951" GiverName="Mudmug" GiverId="56474" X="-35.69931" Y="-18.45698" Z="154.6283" />

		<Code File="InteractWith" MobId="209921" CollectionDistance="200" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29951" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="-279.1635" Y="-216.9641" Z="137.5115" />
				<Hotspot X="-359.2656" Y="-192.5291" Z="136.3637" />
				<Hotspot X="-439.3876" Y="-122.1776" Z="138.6572" />
				<Hotspot X="-528.5321" Y="-12.55593" Z="134.6289" />
			</HuntingGrounds>
		</Code>

		<While Condition="!IsObjectiveComplete(3, 29950)" >
			<MoveTo X="-2.838657" Y="-326.2701" Z="179.4229" />
			<Code File="FlyTo" MovementBy="NavigatorPreferred" QuestId="29950" QuestObjectiveIndex="3" X="-2.838657" Y="-326.2701" Z="179.4229" /> <!-- FlyTo has a 1.5 distance precision vS MoveTos  3.01 -->
			<If Condition="Unit(56549, u =&gt; u.CreatedByUnit == Me) == null" >
				<Code File="UseItem" ItemId="76350" TerminateWhen="Unit(56549, u =&gt; u.CreatedByUnit == Me) != null" />
			</If>
		</While>

		<TurnIn QuestName="Muddy Water" QuestId="29951" TurnInName="Mudmug" TurnInId="56474" X="-35.11241" Y="-18.58145" Z="154.6572" />

		<While Condition="!IsObjectiveComplete(2, 29950)" >
			<MoveTo X="172.3596" Y="265.8967" Z="154.2323" />
			<If Condition="Unit(56549, u =&gt; u.CreatedByUnit == Me) == null" >
				<Code File="UseItem" ItemId="76350" TerminateWhen="Unit(56549, u =&gt; u.CreatedByUnit == Me) != null" />
			</If>
		</While>
		
		<TurnIn QuestName="Clever Ashyo" QuestId="29871" TurnInName="Clever Ashyo" TurnInId="56113" X="197.7999" Y="277.539" Z="153.7954" />
		<RecheckCheckpoints />
		<PickUp QuestName="Ashyo&apos;s Vision" QuestId="29577" GiverName="Clever Ashyo" GiverId="56113" X="197.7999" Y="277.539" Z="153.7954" />
		<PickUp QuestName="Watery Woes" QuestId="30267" GiverName="Gladecaster Lang" GiverId="58736" X="233.0818" Y="284.1239" Z="154.0809" />
		<PickUp QuestName="Bottletoads" QuestId="29757" GiverName="Yan" GiverId="56773" X="211.6367" Y="299.7223" Z="153.7912" />

		<!-- Custom loot and AFK Mode doesn't like this quest. 
		<While Condition="!IsQuestCompleted(30275) &amp;&amp; !HasItem(79238)" >
			<Code File="InteractWith" MobIds="58754, 58755" InteractByLooting="true" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" X="396.6352" Y="431.8252" Z="147.0932" TerminateWhen="IsQuestCompleted(30275) || HasItem(79238)" />
		</While>
		<PickUp QuestName="A Crocolisk Tale" QuestId="30275" GiverName="Enormous Crocolisk Tail" GiverId="79238" GiverType="Item" />-->

		<Code File="InteractWith" MobId="57301" CollectionDistance="200" QuestId="30267" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="327.0558" Y="430.7691" Z="145.5678" />
				<Hotspot X="178.4345" Y="437.5175" Z="144.3614" />
				<Hotspot X="33.92155" Y="363.3071" Z="146.4011" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobIds="57299, 58741" QuestId="30267" QuestObjectiveIndex="2" >
			<HuntingGrounds>
				<Hotspot X="327.0558" Y="430.7691" Z="145.5678" />
				<Hotspot X="178.4345" Y="437.5175" Z="144.3614" />
				<Hotspot X="33.92155" Y="363.3071" Z="146.4011" />
			</HuntingGrounds>
		</Code>

		<!-- <TurnIn QuestName="A Crocolisk Tale" QuestId="30275" TurnInName="Yan" TurnInId="56773" X="211.8406" Y="300.6602" Z="153.7843" /> -->
		<TurnIn QuestName="Watery Woes" QuestId="30267" TurnInName="Gladecaster Lang" TurnInId="58736" X="230.7151" Y="286.1886" Z="153.9258" />
		<PickUp QuestName="Snap Judgment" QuestId="29600" GiverName="Zhang Yue" GiverId="56802" X="364.1727" Y="327.5682" Z="189.4294" />

		<Code File="InteractWith" MobId="56113" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29577" QuestObjectiveIndex="1" X="375.8059" Y="349.8509" Z="186.9837" />

		<TurnIn QuestName="Ashyo&apos;s Vision" QuestId="29577" TurnInName="Zhang Yue" TurnInId="56802" X="366.3799" Y="329.9289" Z="189.548" />
		<PickUp QuestName="The Golden Dream" QuestId="29581" GiverName="Zhang Yue" GiverId="56802" X="367.305" Y="330.2853" Z="189.5442" />

		<Code File="InteractWith" MobId="209987" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29581" QuestObjectiveIndex="1" X="404.5248" Y="117.1289" Z="205.4144" />

		<!-- Custom loot and AFK Mode doesn't like this quest. 
			<Code File="KillUntilComplete" MobId="56833" X="410.6185" Y="113.8056" Z="206.9708" TerminateWhen="IsQuestCompleted(29758)" /> -->

		<Code File="InteractWith" MobId="209950" CollectionDistance="200" PreInteractMountStrategy="Dismount" QuestId="29757" QuestObjectiveIndex="1" X="394.0701" Y="170.1468" Z="209.3254" />

		<Code File="KillUntilComplete" MobId="56832" QuestId="29600" X="418.0475" Y="169.0746" Z="209.5024" />

		<TurnIn QuestName="Snap Judgment" QuestId="29600" TurnInName="Zhang Yue" TurnInId="56802" X="366.6997" Y="329.9088" Z="189.5464" />
		<If Condition="QuestDone(29581)" >
			<TurnIn QuestName="The Golden Dream" QuestId="29581" TurnInName="Yan" TurnInId="56773" X="211.8404" Y="300.5714" Z="153.7856" />
			<Code File="RunCode" Code="await SkipCutscene(4500);" />
		</If>
		<TurnIn QuestName="Bottletoads" QuestId="29757" TurnInName="Yan" TurnInId="56773" X="211.8404" Y="300.5714" Z="153.7856" />
		<!-- <TurnIn QuestName="Guess Whose Back" QuestId="29758" TurnInName="Yan" TurnInId="56773" X="211.8404" Y="300.5714" Z="153.7856" /> -->

		<!--<Code File="SetHearthstone" AreaId="6354" MobId="59582" X="-223.6387" Y="518.2274" Z="190.8979" /> We never use it -->

		<!-- <PickUp QuestName="Children of the Water" QuestId="32045" GiverName="Stonecarver Mac" GiverId="64315" X="-147.114" Y="512.743" Z="207.4103" /> Skipping for now -->
		<PickUp QuestName="Got Silk?" QuestId="32035" GiverName="Lolo Lio" GiverId="59585" X="-264.8398" Y="493.7048" Z="168.3935" />

		<While Condition="!IsObjectiveComplete(1, 29950)" >
			<MoveTo X="-453.7375" Y="250.0835" Z="165.7945" />
			<Code File="FlyTo" MovementBy="NavigatorOnly" QuestId="29950" QuestObjectiveIndex="1" X="-442.8102" Y="221.5192" Z="162.5331" />
			<Code File="FlyTo" MovementBy="NavigatorOnly" QuestId="29950" QuestObjectiveIndex="1" X="-448.0711" Y="214.0708" Z="164.3842" />
			<Code File="FlyTo" MovementBy="NavigatorOnly" QuestId="29950" QuestObjectiveIndex="1" X="-453.1557" Y="225.6516" Z="165.3754" />
			<Code File="WaitTimer" WaitTime="1500" />
			<If Condition="Unit(56549, u =&gt; u.CreatedByUnit == Me) == null" >
				<Code File="UseItem" ItemId="76350" TerminateWhen="Unit(56549, u =&gt; u.CreatedByUnit == Me) != null" />
			</If>
		</While>

		<TurnIn QuestName="Got Silk?" QuestId="32035" TurnInName="Silkmaster Tsai" TurnInId="57405" X="-463.1331" Y="222.0859" Z="165.8513" />
		<RecheckCheckpoints />
		<PickUp QuestName="Where Silk Comes From" QuestId="30072" GiverName="Silkmaster Tsai" GiverId="57405" X="-463.3482" Y="221.8797" Z="165.8716" />
		<PickUp QuestName="The Moth Rebellion" QuestId="30059" GiverName="Journeyman Chu" GiverId="57424" X="-430.726" Y="185.7593" Z="155.8443" />

		<Code File="InteractWith" MobId="210080" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="30072" QuestObjectiveIndex="1" X="-351.7557" Y="224.9317" Z="166.9657" />
		<Code File="InteractWith" MobId="57403" CollectionDistance="200" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="30072" QuestObjectiveIndex="2" X="-351.7557" Y="224.9317" Z="166.9657" />
		<Code File="InteractWith" MobId="210088" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="30072" QuestObjectiveIndex="3" X="-537.6691" Y="231.6145" Z="162.4321" />

		<TurnIn QuestName="Where Silk Comes From" QuestId="30072" TurnInName="Silkmaster Tsai" TurnInId="57405" X="-468.0499" Y="221.9762" Z="165.9221" />

		<Code File="KillUntilComplete" QuestId="30059" >
			<HuntingGrounds>
				<Hotspot X="-331.3152" Y="137.7065" Z="160.8654" />
				<Hotspot X="-434.3129" Y="99.1034" Z="162.2806" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="57422" PursueWhen="!IsObjectiveComplete(1, 30059)" />
				<PursueUnit Id="65984" PursueWhen="!IsObjectiveComplete(2, 30059)" />
			</PursuitList>
		</Code>

		<TurnIn QuestName="The Moth Rebellion" QuestId="30059" TurnInName="Journeyman Chu" TurnInId="57424" X="-429.2262" Y="183.3927" Z="155.8026" />

		<PickUp QuestName="Mothallus!" QuestId="30058" GiverName="Master Goh" GiverId="57407" X="-432.1104" Y="181.1597" Z="156.3074" />
		<While Condition="DoQuest(30058)" >
			<Code File="InteractWith" MobId="210117" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="30058" QuestObjectiveIndex="1" X="-421.5062" Y="156.5303" Z="153.5031" TerminateWhen="Unit(57421, u =&gt; u.Attackable) != null" />
			<Code File="KillUntilComplete" MobId="57421" QuestId="30058" X="-421.5062" Y="156.5303" Z="153.5031" TerminateWhen="Unit(57421, u =&gt; u.Attackable) == null" />
		</While>
		<If Condition="QuestDone(30058)" >
			<TurnIn QuestName="Mothallus!" QuestId="30058" TurnInName="Master Goh" TurnInId="57407" X="-430.4809" Y="181.7406" Z="156.0406" />
			<Code File="UseItem" ItemId="90622" TerminateWhen="!HasItem(90622)" />
		</If>

		<TurnIn QuestName="Li Li&apos;s Day Off" QuestId="29950" TurnInName="Li Li" TurnInId="56138" X="-42.99176" Y="-17.17989" Z="154.1901" />
		<!-- Skipping Broken Dreams quests for now to save time.  Perhaps add them later. -->
		<TurnIn QuestName="Lin Tenderpaw" QuestId="29872" TurnInName="Lin Tenderpaw" TurnInId="56111" X="-395.2372" Y="1900.296" Z="132.4869" />
		<RecheckCheckpoints />
		<PickUp QuestName="Stemming the Swarm" QuestId="29981" GiverName="Lin Tenderpaw" GiverId="56111" X="-395.2372" Y="1900.296" Z="132.4869" />
		<PickUp QuestName="Stemming the Swarm" QuestId="29981" GiverName="Loon Mai" GiverId="56720" X="-395.6147" Y="1911.441" Z="133.4115" />
		<PickUp QuestName="Evacuation Orders" QuestId="29982" GiverName="Loon Mai" GiverId="56720" X="-395.6147" Y="1911.441" Z="133.4115" />


		<Code File="SetHearthstone" AreaId="6356" MobId="62878" X="-367.7387" Y="1904.359" Z="142.8072" />

		<Code File="InteractWith" MobIds="57123, 57124" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29982" QuestObjectiveIndex="3" X="-371.078" Y="2057.64" Z="125.2645" />
		<Code File="InteractWith" MobIds="57126, 57127" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29982" QuestObjectiveIndex="4" X="-339.7454" Y="2069.535" Z="120.1284" />
		<Code File="InteractWith" MobIds="57121, 57122" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29982" QuestObjectiveIndex="2" X="-365.3264" Y="2168.805" Z="111.1718" />
		<Code File="InteractWith" MobIds="57120" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="15" QuestId="29982" QuestObjectiveIndex="1" X="-335.8419" Y="2397.17" Z="140.4102" />

		<Code File="KillUntilComplete" MobIds="57195, 57196" QuestId="29981" >
			<HuntingGrounds>
				<Hotspot X="-355.0648" Y="2267.891" Z="116.7322" />
				<Hotspot X="-440.3604" Y="2188.28" Z="103.6207" />
				<Hotspot X="-283.3171" Y="2185.163" Z="113.1539" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Stemming the Swarm" QuestId="29981" TurnInName="Loon Mai" TurnInId="56720" X="-394.3945" Y="1916.812" Z="134.1542" />
		<TurnIn QuestName="Evacuation Orders" QuestId="29982" TurnInName="Loon Mai" TurnInId="56720" X="-394.3945" Y="1916.812" Z="134.1542" />
		<PickUp QuestName="The Hidden Master" QuestId="29983" GiverName="Loon Mai" GiverId="56720" X="-394.3945" Y="1916.812" Z="134.1542" />
		<TurnIn QuestName="The Hidden Master" QuestId="29983" TurnInName="Master Bruised Paw" TurnInId="56714" X="275.9059" Y="1964.469" Z="164.3935" />
		<RecheckCheckpoints />

		<PickUp QuestName="Unyielding Fists: Trial of Bamboo" QuestId="29984" GiverName="Master Bruised Paw" GiverId="56714" X="275.9059" Y="1964.469" Z="164.3935" />
		<While Condition="DoQuest(29984)" >
			<Code File="InteractWith" MobId="56714" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29984" QuestObjectiveIndex="1" X="275.9059" Y="1964.469" Z="164.3935" TerminateWhen="Me.InVehicle" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29984) && Me.InVehicle)
					{
						if (Lua.GetReturnVal<int>("return UnitPower('player', ALTERNATE_POWER_INDEX)", 0) > 90)
						{
							Lua.DoString("OverrideActionBarButton1:Click()");
							await Coroutine.Sleep(1500);
						}
						await Coroutine.Yield();
					}
				]]>
			</Code>
		</While>
		<If Condition="QuestDone(29984)" >
			<TurnIn QuestName="Unyielding Fists: Trial of Bamboo" QuestId="29984" TurnInName="Master Bruised Paw" TurnInId="56714" X="275.0134" Y="1963.38" Z="164.395" />
			<Code File="RunCode" Code="await SkipCutscene();" />
		</If>

		<PickUp QuestName="They Will Be Mist" QuestId="29985" GiverName="Master Bruised Paw" GiverId="56714" X="277.08" Y="1963.39" Z="164.45" />
		<PickUp QuestName="Fog Wards" QuestId="29986" GiverName="Master Bruised Paw" GiverId="56714" X="277.08" Y="1963.39" Z="164.45" />
		<PickUp QuestName="Tenderpaw By Name, Tender Paw By Reputation" QuestId="29992" GiverName="Lin Tenderpaw" GiverId="56111" X="280.9588" Y="1969.776" Z="164.624" />

		<Code File="InteractWith" MobId="209945" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29986" QuestObjectiveIndex="1" X="256.0249" Y="2045.646" Z="164.3418" />
		<Code File="InteractWith" MobId="209946" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29986" QuestObjectiveIndex="2" X="136.1059" Y="2094.657" Z="145.7007" />
		<Code File="InteractWith" MobId="209947" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29986" QuestObjectiveIndex="3" X="13.48641" Y="1970.853" Z="143.5311" />

		<Code File="InteractWith" MobId="209952" CollectionDistance="200" InteractByLooting="true" PreInteractMountStrategy="Dismount" QuestId="29992" QuestObjectiveIndex="1" >
			<HuntingGrounds>
				<Hotspot X="38.95576" Y="1978.297" Z="143.7816" />
				<Hotspot X="148.0882" Y="2084.058" Z="145.7313" />
				<Hotspot X="267.0894" Y="2019.826" Z="163.28" />
				<Hotspot X="187.9243" Y="1950.583" Z="156.8402" />
			</HuntingGrounds>
		</Code>

		<Code File="KillUntilComplete" MobId="56740" QuestId="29985" >
			<HuntingGrounds>
				<Hotspot X="38.95576" Y="1978.297" Z="143.7816" />
				<Hotspot X="148.0882" Y="2084.058" Z="145.7313" />
				<Hotspot X="267.0894" Y="2019.826" Z="163.28" />
				<Hotspot X="187.9243" Y="1950.583" Z="156.8402" />
			</HuntingGrounds>
		</Code>

		<TurnIn QuestName="Tenderpaw By Name, Tender Paw By Reputation" QuestId="29992" TurnInName="Lin Tenderpaw" TurnInId="56111" X="280.1301" Y="1970.802" Z="164.5589" />
		<TurnIn QuestName="They Will Be Mist" QuestId="29985" TurnInName="Master Bruised Paw" TurnInId="56714" X="276.8039" Y="1965.169" Z="164.3971" />
		<TurnIn QuestName="Fog Wards" QuestId="29986" TurnInName="Master Bruised Paw" TurnInId="56714" X="276.8039" Y="1965.169" Z="164.3971" />
		<RecheckCheckpoints />

		<PickUp QuestName="Unyielding Fists: Trial of Wood" QuestId="29987" GiverName="Master Bruised Paw" GiverId="56714" X="276.8039" Y="1965.169" Z="164.3971" />
		<While Condition="DoQuest(29987)" >
			<Code File="InteractWith" MobId="56714" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29987" QuestObjectiveIndex="1" X="275.9059" Y="1964.469" Z="164.3935" TerminateWhen="Me.InVehicle" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29987) && Me.InVehicle)
					{
						if (Lua.GetReturnVal<int>("return UnitPower('player', ALTERNATE_POWER_INDEX)", 0) > 90)
						{
							Lua.DoString("OverrideActionBarButton1:Click()");
							await Coroutine.Sleep(1500);
						}
						await Coroutine.Yield();
					}
				]]>
			</Code>
		</While>
		<TurnIn QuestName="Unyielding Fists: Trial of Wood" QuestId="29987" TurnInName="Master Bruised Paw" TurnInId="56714" X="275.0134" Y="1963.38" Z="164.395" />

		<PickUp QuestName="A Taste For Eggs" QuestId="29988" GiverName="Master Bruised Paw" GiverId="56714" X="273.4456" Y="1963.162" Z="164.3949" />
		<Code File="InteractWith" MobId="209955" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" InteractBlacklistTimeInSeconds="1" QuestId="29988" QuestObjectiveIndex="3" X="69.63448" Y="1624.96" Z="237.8541" />
		<While Condition="DoQuest(29988)" >
			<Code File="InteractWith" CollectionDistance="200" NonCompeteDistance="0" InteractByLooting="true" PreInteractMountStrategy="Dismount" NumOfTimes="28" QuestId="29988" >
				<HuntingGrounds>
					<Hotspot X="30.36217" Y="1684.514" Z="236.0185" />
					<Hotspot X="-100.963" Y="1656.611" Z="235.6562" />
				</HuntingGrounds>
				<PursuitList>
					<PursueGameObject Id="209953" PursueWhen="!IsObjectiveComplete(1, 29988)" />
					<PursueGameObject Id="209954" PursueWhen="!IsObjectiveComplete(2, 29988)" />
				</PursuitList>
			</Code>
		</While>
		<If Condition="QuestDone(29988)" >
			<TurnIn QuestName="A Taste For Eggs" QuestId="29988" TurnInName="Master Bruised Paw" TurnInId="56714" X="275.1452" Y="1964.209" Z="164.3951" />
			<Code File="RunCode" Code="await SkipCutscene();" />
		</If>

		<PickUp QuestName="Unyielding Fists: Trial of Stone" QuestId="29989" GiverName="Master Bruised Paw" GiverId="56714" X="277.08" Y="1963.39" Z="164.45" />
		<While Condition="DoQuest(29989)" >
			<Code File="InteractWith" MobId="56714" GossipOptions="1" NonCompeteDistance="0" PreInteractMountStrategy="Dismount" QuestId="29989" QuestObjectiveIndex="1" X="275.9059" Y="1964.469" Z="164.3935" TerminateWhen="Me.InVehicle" />
			<Code File="RunCode">
				<![CDATA[
					while (DoQuest(29989) && Me.InVehicle)
					{
						if (Lua.GetReturnVal<int>("return UnitPower('player', ALTERNATE_POWER_INDEX)", 0) > 90)
						{
							Lua.DoString("OverrideActionBarButton1:Click()");
							await Coroutine.Sleep(250);
						}
						await Coroutine.Yield();
					}
				]]>
			</Code>
		</While>
		<TurnIn QuestName="Unyielding Fists: Trial of Stone" QuestId="29989" TurnInName="Master Bruised Paw" TurnInId="56714" X="275.0134" Y="1963.38" Z="164.395" />

		<PickUp QuestName="Training and Discipline" QuestId="29990" GiverName="Lin Tenderpaw" GiverId="56111" X="280.6616" Y="1969.744" Z="164.6132" />
		<If Condition="HasQuest(29990) &amp;&amp; Me.HearthstoneAreaId == 6356 &amp;&amp; Unit(56111) != null" >
			<Code File="UseHearthstone" />
		</If>
		<TurnIn QuestName="Training and Discipline" QuestId="29990" TurnInName="Loon Mai" TurnInId="56720" X="-395.4694" Y="1910.471" Z="133.1506" />

		<PickUp QuestName="Stalker Mastery" QuestId="30183" GiverName="Tani" GiverId="63822" X="-1060.281" Y="2040.659" Z="148.6671" />
		<PickUp QuestName="Mushan Mastery" QuestId="30181" GiverName="Hemet Nesingwary Jr." GiverId="58422" X="-1066.292" Y="2045.16" Z="148.0753" />

		<Code File="KillUntilComplete" TerminateWhen="!DoQuest(30183, 30181)" >
			<HuntingGrounds>
				<Hotspot X="-992.46" Y="2131.982" Z="99.8746" />
				<Hotspot X="-879.8759" Y="2178.604" Z="99.97612" />
				<Hotspot X="-767.2072" Y="2131.824" Z="110.4278" />
				<Hotspot X="-740.9069" Y="1987.123" Z="148.3069" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="58424" PursueWhen="DoQuest(30181)" />
				<PursueUnit Id="58427" PursueWhen="DoQuest(30181)" />
				<PursueUnit Id="58432" PursueWhen="DoQuest(30183)" />
			</PursuitList>
		</Code>

		<TurnIn QuestName="Stalker Mastery" QuestId="30183" TurnInName="Tani" TurnInId="63822" X="-1064.79" Y="2040.024" Z="148.7376" />
		<PickUp QuestName="Fox Mastery" QuestId="30182" GiverName="Tani" GiverId="63822" X="-1064.79" Y="2040.024" Z="148.7376" />
		<TurnIn QuestName="Mushan Mastery" QuestId="30181" TurnInName="Hemet Nesingwary Jr." TurnInId="58422" X="-1067.851" Y="2044.671" Z="148.1297" />
		<PickUp QuestName="Mushan Mastery: Darkhide" QuestId="30184" GiverName="Hemet Nesingwary" GiverId="58421" X="-1064.169" Y="2050.27" Z="147.9845" />
		<PickUp QuestName="Stag Mastery" QuestId="32038" GiverName="Matt &quot;Lucky&quot; Gotcher" GiverId="58434" X="-1059.488" Y="2056.032" Z="148.4291" />

		<Code File="KillUntilComplete" MobId="58435" QuestId="30184" X="-880.1719" Y="1650.84" Z="161.147" />

		<Code File="KillUntilComplete" TerminateWhen="!DoQuest(30182, 32038)" >
			<HuntingGrounds>
				<Hotspot X="-1016.496" Y="1736.655" Z="150.0812" />
				<Hotspot X="-988.3994" Y="1520.605" Z="149.1487" />
				<Hotspot X="-734.8732" Y="1718.732" Z="150.6034" />
				<Hotspot X="-977.4768" Y="1873.154" Z="149.6139" />
			</HuntingGrounds>
			<PursuitList>
				<PursueUnit Id="58548" PursueWhen="DoQuest(30182)" />
				<PursueUnit Id="58549" PursueWhen="DoQuest(30182)" />
				<PursueUnit Id="58489" PursueWhen="DoQuest(32038)" />
				<PursueUnit Id="58490" PursueWhen="DoQuest(32038)" />
			</PursuitList>
		</Code>

		<TurnIn QuestName="Fox Mastery" QuestId="30182" TurnInName="Tani" TurnInId="63822" X="-1063.241" Y="2040.074" Z="148.7456" />
		<TurnIn QuestName="Mushan Mastery: Darkhide" QuestId="30184" TurnInName="Hemet Nesingwary" TurnInId="58421" X="-1064.371" Y="2049.504" Z="148.0079" />
		<TurnIn QuestName="Stag Mastery" QuestId="32038" TurnInName="Matt &quot;Lucky&quot; Gotcher" TurnInId="58434" X="-1057.146" Y="2056.471" Z="148.7843" />
		<RecheckCheckpoints />
		
		<PickUp QuestName="Tortoise Mastery" QuestId="30185" GiverName="Hemet Nesingwary Jr." GiverId="58422" X="-1063.812" Y="2051.837" Z="147.9348" />
		<Code File="KillUntilComplete" MobId="58431" QuestId="30185" >
			<HuntingGrounds>
				<Hotspot X="-948.5904" Y="1969.644" Z="154.4791" />
				<Hotspot X="-883.7437" Y="1893.851" Z="162.3632" />
				<Hotspot X="-838.4928" Y="1815.808" Z="139.5113" />
			</HuntingGrounds>
		</Code>
		<TurnIn QuestName="Tortoise Mastery" QuestId="30185" TurnInName="Hemet Nesingwary Jr." TurnInId="58422" X="-885.7396" Y="1899.751" Z="162.3612" />

		<PickUp QuestName="Parental Mastery" QuestId="30186" GiverName="Hemet Nesingwary Jr." GiverId="58422" X="-885.7396" Y="1899.751" Z="162.3612" />
		<While Condition="DoQuest(30186)" >
			<If Condition="Me.Z &gt;= 100" >
				<MoveTo X="-849.4126" Y="1856.049" Z="135.7682" />
				<Code File="MyCTM" X="-848.6378" Y="1856.411" Z="54.27459" />
				<Code File="MyCTM" X="-854.168" Y="1746.845" Z="67.97358" />
			</If>
			<If Condition="Me.Z &lt; 100" >
				<Code File="InteractWith" MobId="58461" GossipOptions="1" NonCompeteDistance="0" QuestId="30186" QuestObjectiveIndex="1" X="-856.8721" Y="1719.283" Z="69.95203" TerminateWhen="Unit(58439, u =&gt; u.Attackable) != null" />
				<Code File="KillUntilComplete" MobId="58439" QuestId="30186" X="-856.8721" Y="1719.283" Z="69.95203" TerminateWhen="Unit(58439, u =&gt; u.Attackable) == null" />
				<MoveTo X="-856.3398" Y="1746.646" Z="67.71341" />
				<Code File="MyCTM" X="-849.2517" Y="1865.237" Z="54.11824" />
			</If>
			<Code File="AscendInWater" />
		</While>
		<TurnIn QuestName="Parental Mastery" QuestId="30186" TurnInName="Hemet Nesingwary" TurnInId="58421" X="-1060.862" Y="2051.31" Z="148.2244" />

		<Checkpoint Level="89" />

		<Code File="LoadProfile" ProfileName="Kun-Lai Summit.xml" />

	</QuestOrder>
</HBProfile>